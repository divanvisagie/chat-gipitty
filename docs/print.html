<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Chat GipiTTY</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Chat GipiTTY</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Chat Gipitty (Chat Get Information, Print Information TTY) is a command line client primarily intended for the <strong>official OpenAI Chat Completions API</strong>. It allows you to chat with language models in a terminal and even pipe output into it. While optimized for OpenAI's ChatGPT (with GPT-4 as the default model), it can also work with other providers that expose OpenAI-compatible endpoints.</p>
<p><img src="../docs/logo-256.png" alt="Chat GipiTTY Logo" /></p>
<h2 id="what-is-chat-gipitty"><a class="header" href="#what-is-chat-gipitty">What is Chat GipiTTY?</a></h2>
<p>Chat GipiTTY is designed to make AI assistance seamlessly available in your terminal workflow. Whether you're debugging code, processing text, analyzing images, or generating speech, cgip brings powerful AI capabilities directly to your command line.</p>
<h2 id="key-features"><a class="header" href="#key-features">Key Features</a></h2>
<ul>
<li><strong>Universal AI Access</strong>: Works with OpenAI, local models via Ollama, Google Gemini, Mistral AI, Anthropic Claude, and any OpenAI-compatible provider</li>
<li><strong>Intelligent Piping</strong>: Pipe command output directly to AI models for instant analysis</li>
<li><strong>Multi-Modal Support</strong>: Text, image analysis, and text-to-speech capabilities</li>
<li><strong>Session Management</strong>: Maintain conversation context across terminal sessions</li>
<li><strong>Web Search</strong>: Get up-to-date information from the internet</li>
<li><strong>Agentic Workflows</strong>: Let the AI execute shell commands to accomplish tasks</li>
<li><strong>Flexible Configuration</strong>: Extensive customization options and provider support</li>
</ul>
<h2 id="quick-example"><a class="header" href="#quick-example">Quick Example</a></h2>
<p>Debug a Rust compilation error by piping the build output directly to ChatGPT:</p>
<pre><code class="language-sh">cargo build 2&gt;&amp;1 | cgip "give me a short summary of the kind of error this is"
</code></pre>
<p>This results in something like:</p>
<pre><code class="language-sh">‚ùØ cargo build 2&gt;&amp;1 | cgip 'give me a short summary of the kind of error this is'
The error you're encountering is a **lifetime error** in Rust, specifically an issue with **borrowed values not living long enough**.
</code></pre>
<h2 id="supported-providers"><a class="header" href="#supported-providers">Supported Providers</a></h2>
<p>Chat GipiTTY works with any service that implements the OpenAI Chat Completions API standard:</p>
<ul>
<li><strong>OpenAI</strong> (ChatGPT, GPT-4, GPT-3.5, etc.)</li>
<li><strong>Local models</strong> via <a href="https://ollama.com">Ollama</a></li>
<li><strong>Google Gemini</strong> (via OpenAI-compatible endpoints)</li>
<li><strong>Mistral AI</strong> (via OpenAI-compatible endpoints)</li>
<li><strong>Anthropic Claude</strong> (via OpenAI-compatible endpoints)</li>
<li><strong>Any other provider</strong> implementing the OpenAI Chat Completions API standard</li>
</ul>
<p>Custom <code>OPENAI_BASE_URL</code> values can point to these or other OpenAI-compatible endpoints, though compatibility cannot be guaranteed for all providers.</p>
<h2 id="philosophy"><a class="header" href="#philosophy">Philosophy</a></h2>
<p>Chat GipiTTY is built around the Unix philosophy of doing one thing well and composing with other tools. It seamlessly integrates AI capabilities into your existing terminal workflow without forcing you to change how you work.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>Welcome to Chat GipiTTY! This guide will help you get up and running quickly with cgip, from installation to your first AI-powered terminal interactions.</p>
<h2 id="what-youll-learn"><a class="header" href="#what-youll-learn">What You'll Learn</a></h2>
<p>In this section, you'll learn how to:</p>
<ul>
<li>Install Chat GipiTTY on your system</li>
<li>Set up your API credentials</li>
<li>Configure custom API endpoints (optional)</li>
<li>Run your first commands</li>
<li>Understand the basic workflow</li>
</ul>
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<p>Before you begin, make sure you have:</p>
<ul>
<li>A POSIX-compliant system (Linux, macOS, or Windows with WSL)</li>
<li>An OpenAI API key (or credentials for another supported provider)</li>
<li>Rust and Cargo installed (recommended installation method)</li>
</ul>
<h2 id="quick-start"><a class="header" href="#quick-start">Quick Start</a></h2>
<p>If you're eager to get started, here's the fastest path:</p>
<ol>
<li>
<p><strong>Install via Cargo</strong> (recommended):</p>
<pre><code class="language-sh">cargo install cgip
</code></pre>
</li>
<li>
<p><strong>Set your API key</strong>:</p>
<pre><code class="language-sh">export OPENAI_API_KEY=your_key_here
</code></pre>
</li>
<li>
<p><strong>Test it out</strong>:</p>
<pre><code class="language-sh">echo "Hello, AI!" | cgip "What can you tell me about this greeting?"
</code></pre>
</li>
</ol>
<h2 id="installation-methods"><a class="header" href="#installation-methods">Installation Methods</a></h2>
<p>Chat GipiTTY offers several installation options to suit different preferences and environments. The recommended method is via Cargo for the latest version and best compatibility.</p>
<h3 id="recommended-cargo-installation"><a class="header" href="#recommended-cargo-installation">Recommended: Cargo Installation</a></h3>
<p>The most reliable way to install and keep Chat GipiTTY updated.</p>
<h3 id="alternative-methods"><a class="header" href="#alternative-methods">Alternative Methods</a></h3>
<p>Other installation options including manual builds and package managers.</p>
<h2 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h2>
<p>Once you have Chat GipiTTY installed:</p>
<ol>
<li><strong><a href="./setup.html">Set up your environment</a></strong> - Configure API keys and optional settings</li>
<li><strong><a href="./basic-usage.html">Learn basic usage</a></strong> - Master the fundamental commands and patterns</li>
<li><strong><a href="./core-features.html">Explore features</a></strong> - Discover advanced capabilities like sessions and web search</li>
</ol>
<h2 id="getting-help"><a class="header" href="#getting-help">Getting Help</a></h2>
<p>If you run into issues during installation or setup:</p>
<ul>
<li>Check the <a href="./troubleshooting.html">Troubleshooting</a> section</li>
<li>Run <code>cgip --help</code> for command-line assistance</li>
<li>Visit the project repository for community support</li>
</ul>
<p>Ready to begin? Let's start with <a href="./installation.html">Installation</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>Chat GipiTTY is designed to be run on POSIX compliant systems. This page covers all available installation methods, with the recommended approach being installation via Cargo.</p>
<h2 id="recommended-install-from-cratesio-with-cargo"><a class="header" href="#recommended-install-from-cratesio-with-cargo">Recommended: Install from crates.io with Cargo</a></h2>
<p><strong>The recommended way to install Chat GipiTTY is via Cargo.</strong> This ensures you always get the latest version directly from crates.io, with minimal dependencies and maximum compatibility.</p>
<p>If you do not already have Cargo (the Rust package manager) installed, please visit <a href="https://rustup.rs/">rustup.rs</a> for instructions on installing Rust and Cargo.</p>
<pre><code class="language-sh">cargo install cgip
</code></pre>
<h3 id="upgrading"><a class="header" href="#upgrading">Upgrading</a></h3>
<p>To upgrade to the latest release, you can use the built-in upgrade command:</p>
<pre><code class="language-sh">cgip upgrade
</code></pre>
<p>Alternatively, you can reinstall via Cargo:</p>
<pre><code class="language-sh">cargo install cgip --force
</code></pre>
<h2 id="alternative-installation-methods"><a class="header" href="#alternative-installation-methods">Alternative Installation Methods</a></h2>
<p>Other installation methods are available for convenience, but may not always provide the latest version:</p>
<h3 id="manual-installation"><a class="header" href="#manual-installation">Manual Installation</a></h3>
<p>If you prefer to build from source:</p>
<ol>
<li>
<p>Clone the repository:</p>
<pre><code class="language-sh">git clone https://github.com/divanvisagie/chat-gipitty.git
cd chat-gipitty
</code></pre>
</li>
<li>
<p>Install using make:</p>
<pre><code class="language-sh">sudo make install
</code></pre>
</li>
</ol>
<h3 id="development-setup"><a class="header" href="#development-setup">Development Setup</a></h3>
<p>For development purposes, you can run Chat GipiTTY directly from the source:</p>
<pre><code class="language-sh">git clone https://github.com/divanvisagie/chat-gipitty.git
cd chat-gipitty
cargo run -- --help
</code></pre>
<h2 id="platform-specific-notes"><a class="header" href="#platform-specific-notes">Platform-Specific Notes</a></h2>
<h3 id="ubuntudebian"><a class="header" href="#ubuntudebian">Ubuntu/Debian</a></h3>
<p>On Ubuntu and Debian systems, some additional packages may be required if you plan to build the deb package:</p>
<pre><code class="language-sh">sudo apt-get install build-essential dh-make debhelper devscripts
</code></pre>
<h3 id="macos"><a class="header" href="#macos">macOS</a></h3>
<p>No additional setup required beyond having Cargo installed.</p>
<h3 id="windows"><a class="header" href="#windows">Windows</a></h3>
<p>Chat GipiTTY is designed for POSIX systems. On Windows, use WSL (Windows Subsystem for Linux) for the best experience.</p>
<h2 id="verification"><a class="header" href="#verification">Verification</a></h2>
<p>After installation, verify that Chat GipiTTY is working correctly:</p>
<pre><code class="language-sh">cgip --version
</code></pre>
<p>You should see version information displayed. If you get a "command not found" error, make sure Cargo's bin directory is in your PATH:</p>
<pre><code class="language-sh">export PATH="$HOME/.cargo/bin:$PATH"
</code></pre>
<p>Add this line to your shell profile (<code>.bashrc</code>, <code>.zshrc</code>, etc.) to make it permanent.</p>
<h2 id="next-steps-1"><a class="header" href="#next-steps-1">Next Steps</a></h2>
<p>Once installed, you'll need to <a href="./setup.html">set up your environment</a> with API credentials and any custom configuration.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setup"><a class="header" href="#setup">Setup</a></h1>
<p>After installing Chat GipiTTY, you'll need to configure it with your API credentials and any custom settings. This page covers the essential setup steps to get you started.</p>
<h2 id="api-key-configuration"><a class="header" href="#api-key-configuration">API Key Configuration</a></h2>
<p>Chat GipiTTY requires an API key to communicate with AI services. The setup process depends on which provider you're using.</p>
<h3 id="openai-api-key"><a class="header" href="#openai-api-key">OpenAI API Key</a></h3>
<p>For OpenAI services (recommended), set up your API key as an environment variable:</p>
<pre><code class="language-sh">export OPENAI_API_KEY=your_key_here
</code></pre>
<p>To make this permanent, add the export statement to your shell profile:</p>
<pre><code class="language-sh"># For bash users
echo 'export OPENAI_API_KEY=your_key_here' &gt;&gt; ~/.bashrc
source ~/.bashrc

# For zsh users  
echo 'export OPENAI_API_KEY=your_key_here' &gt;&gt; ~/.zshrc
source ~/.zshrc
</code></pre>
<h3 id="getting-an-openai-api-key"><a class="header" href="#getting-an-openai-api-key">Getting an OpenAI API Key</a></h3>
<ol>
<li>Visit <a href="https://openai.com">OpenAI's website</a></li>
<li>Sign up for an account or log in</li>
<li>Navigate to the API section</li>
<li>Generate a new API key</li>
<li>Copy the key and use it in the export command above</li>
</ol>
<p><strong>Security Note</strong>: Keep your API key secure and never commit it to version control. The environment variable approach keeps your key out of your code and configuration files.</p>
<h2 id="custom-api-endpoints"><a class="header" href="#custom-api-endpoints">Custom API Endpoints</a></h2>
<p>Chat GipiTTY supports any OpenAI-compatible API provider. You can specify a custom API endpoint by setting the <code>OPENAI_BASE_URL</code> environment variable.</p>
<h3 id="default-behavior"><a class="header" href="#default-behavior">Default Behavior</a></h3>
<p>If not set, Chat GipiTTY uses the default OpenAI endpoint:</p>
<pre><code>https://api.openai.com
</code></pre>
<h3 id="provider-examples"><a class="header" href="#provider-examples">Provider Examples</a></h3>
<h4 id="local-ollama-instance"><a class="header" href="#local-ollama-instance">Local Ollama Instance</a></h4>
<pre><code class="language-sh">export OPENAI_BASE_URL=http://localhost:11434/v1
</code></pre>
<h4 id="google-gemini-via-openai-compatible-proxy"><a class="header" href="#google-gemini-via-openai-compatible-proxy">Google Gemini (via OpenAI-compatible proxy)</a></h4>
<pre><code class="language-sh">export OPENAI_BASE_URL=https://generativelanguage.googleapis.com/v1beta
</code></pre>
<h4 id="mistral-ai"><a class="header" href="#mistral-ai">Mistral AI</a></h4>
<pre><code class="language-sh">export OPENAI_BASE_URL=https://api.mistral.ai/v1
</code></pre>
<h4 id="other-openai-compatible-services"><a class="header" href="#other-openai-compatible-services">Other OpenAI-compatible Services</a></h4>
<pre><code class="language-sh">export OPENAI_BASE_URL=https://your-provider.com/v1
</code></pre>
<h4 id="custom-endpoint-patterns"><a class="header" href="#custom-endpoint-patterns">Custom Endpoint Patterns</a></h4>
<pre><code class="language-sh"># If your provider uses a different endpoint pattern
export OPENAI_BASE_URL=https://custom-api.com/v2/chat/completions
</code></pre>
<h3 id="url-construction-logic"><a class="header" href="#url-construction-logic">URL Construction Logic</a></h3>
<p>Chat GipiTTY intelligently constructs the API endpoint:</p>
<ul>
<li>If your base URL already contains <code>/chat/completions</code>, it uses it as-is</li>
<li>If your base URL ends with <code>/v1</code> (or similar version pattern), it appends <code>/chat/completions</code></li>
<li>Otherwise, it appends <code>/v1/chat/completions</code> (standard OpenAI pattern)</li>
</ul>
<h2 id="basic-configuration"><a class="header" href="#basic-configuration">Basic Configuration</a></h2>
<h3 id="default-model"><a class="header" href="#default-model">Default Model</a></h3>
<p>Set your preferred default model:</p>
<pre><code class="language-sh">cgip config --set model=gpt-4o
</code></pre>
<h3 id="view-current-configuration"><a class="header" href="#view-current-configuration">View Current Configuration</a></h3>
<p>Check your current settings:</p>
<pre><code class="language-sh">cgip config --get model
</code></pre>
<h3 id="available-configuration-options"><a class="header" href="#available-configuration-options">Available Configuration Options</a></h3>
<p>Common configuration options include:</p>
<ul>
<li><code>model</code>: Default AI model to use</li>
<li><code>system_prompt</code>: Default system prompt for conversations</li>
<li><code>max_tokens</code>: Maximum response length</li>
<li><code>temperature</code>: Response creativity (0.0 to 2.0)</li>
</ul>
<h2 id="session-management-setup"><a class="header" href="#session-management-setup">Session Management Setup</a></h2>
<p>To enable session management across terminal sessions, set up a session name:</p>
<h3 id="unique-session-per-terminal"><a class="header" href="#unique-session-per-terminal">Unique Session Per Terminal</a></h3>
<pre><code class="language-sh">export CGIP_SESSION_NAME=$(uuid)
</code></pre>
<h3 id="daily-sessions-shared-across-terminals"><a class="header" href="#daily-sessions-shared-across-terminals">Daily Sessions (shared across terminals)</a></h3>
<pre><code class="language-sh">export CGIP_SESSION_NAME=$(date -I)
</code></pre>
<h3 id="custom-session-management"><a class="header" href="#custom-session-management">Custom Session Management</a></h3>
<pre><code class="language-sh"># Custom session based on your needs
export CGIP_SESSION_NAME="my-project-session"
</code></pre>
<p>Add your chosen session configuration to your shell profile for persistence.</p>
<h2 id="verification-1"><a class="header" href="#verification-1">Verification</a></h2>
<p>Test your setup with a simple command:</p>
<pre><code class="language-sh">echo "Hello, world!" | cgip "What can you tell me about this text?"
</code></pre>
<p>If everything is configured correctly, you should receive a response from the AI model.</p>
<h3 id="common-issues"><a class="header" href="#common-issues">Common Issues</a></h3>
<p><strong>"API key not found" error</strong>: Make sure you've exported the <code>OPENAI_API_KEY</code> environment variable in your current shell session.</p>
<p><strong>"Model not found" error</strong>: Check that your configured model is available with your API provider.</p>
<p><strong>Network errors</strong>: Verify your <code>OPENAI_BASE_URL</code> is correct and accessible.</p>
<h2 id="next-steps-2"><a class="header" href="#next-steps-2">Next Steps</a></h2>
<p>Now that Chat GipiTTY is set up, you're ready to:</p>
<ol>
<li>Learn <a href="./basic-usage.html">basic usage patterns</a></li>
<li>Explore <a href="./core-features.html">core features</a> like sessions and web search</li>
<li>Try different <a href="./subcommands.html">subcommands</a> for specialized tasks</li>
</ol>
<h2 id="advanced-configuration"><a class="header" href="#advanced-configuration">Advanced Configuration</a></h2>
<p>For more detailed configuration options, see:</p>
<ul>
<li><a href="./environment-variables.html">Environment Variables</a> - Complete list of configuration options</li>
<li><a href="./custom-api-endpoints.html">Custom API Endpoints</a> - Detailed provider setup guides</li>
<li><a href="./configuration.html">Configuration</a> - Advanced configuration management</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basic-usage"><a class="header" href="#basic-usage">Basic Usage</a></h1>
<p>This page covers the fundamental usage patterns of Chat GipiTTY. Once you understand these core concepts, you'll be able to effectively integrate AI assistance into your terminal workflow.</p>
<h2 id="core-concepts"><a class="header" href="#core-concepts">Core Concepts</a></h2>
<p>Chat GipiTTY follows a simple input priority system:</p>
<ol>
<li><strong>stdin</strong> - Input piped from other commands</li>
<li><strong>command arguments</strong> - Text provided as arguments</li>
<li><strong>files</strong> - Content read from files with <code>-f</code> flag</li>
</ol>
<p>This priority system allows for flexible composition with other Unix tools.</p>
<h2 id="basic-command-structure"><a class="header" href="#basic-command-structure">Basic Command Structure</a></h2>
<p>The general syntax for Chat GipiTTY is:</p>
<pre><code class="language-sh">cgip [OPTIONS] [QUERY] [COMMAND]
</code></pre>
<h3 id="simplest-usage"><a class="header" href="#simplest-usage">Simplest Usage</a></h3>
<p>Ask a direct question:</p>
<pre><code class="language-sh">cgip "What is the capital of France?"
</code></pre>
<h3 id="piping-input"><a class="header" href="#piping-input">Piping Input</a></h3>
<p>Pipe output from other commands for AI analysis:</p>
<pre><code class="language-sh">ls -la | cgip "What can you tell me about these files?"
</code></pre>
<pre><code class="language-sh">ps aux | cgip "Are there any processes that look suspicious?"
</code></pre>
<h3 id="using-files-as-context"><a class="header" href="#using-files-as-context">Using Files as Context</a></h3>
<p>Include file content in your query:</p>
<pre><code class="language-sh">cgip "explain this code" -f src/main.rs
</code></pre>
<h3 id="combining-inputs"><a class="header" href="#combining-inputs">Combining Inputs</a></h3>
<p>You can combine multiple input sources:</p>
<pre><code class="language-sh"># Pipe + argument + file
cat error.log | cgip "analyze this error" -f config.yaml
</code></pre>
<h2 id="common-usage-patterns"><a class="header" href="#common-usage-patterns">Common Usage Patterns</a></h2>
<h3 id="debugging-and-development"><a class="header" href="#debugging-and-development">Debugging and Development</a></h3>
<p>Debug compilation errors:</p>
<pre><code class="language-sh">cargo build 2&gt;&amp;1 | cgip "what's wrong with this code?"
</code></pre>
<p>Analyze git logs:</p>
<pre><code class="language-sh">git log --oneline -10 | cgip "summarize these recent changes"
</code></pre>
<p>Review code:</p>
<pre><code class="language-sh">cgip "review this function for potential issues" -f utils.py
</code></pre>
<h3 id="system-administration"><a class="header" href="#system-administration">System Administration</a></h3>
<p>Analyze system resources:</p>
<pre><code class="language-sh">df -h | cgip "are there any disk space concerns?"
</code></pre>
<p>Review logs:</p>
<pre><code class="language-sh">tail -n 50 /var/log/syslog | cgip "any critical issues in these logs?"
</code></pre>
<p>Network diagnostics:</p>
<pre><code class="language-sh">netstat -tuln | cgip "explain what services are running"
</code></pre>
<h3 id="text-processing"><a class="header" href="#text-processing">Text Processing</a></h3>
<p>Convert formats:</p>
<pre><code class="language-sh">cgip "convert this JSON to YAML" -f data.json
</code></pre>
<p>Summarize content:</p>
<pre><code class="language-sh">cgip "provide a brief summary" -f long-document.md
</code></pre>
<p>Generate documentation:</p>
<pre><code class="language-sh">cgip "create documentation for this function" -f my-function.py
</code></pre>
<h3 id="data-analysis"><a class="header" href="#data-analysis">Data Analysis</a></h3>
<p>Analyze CSV data:</p>
<pre><code class="language-sh">head -20 data.csv | cgip "what patterns do you see in this data?"
</code></pre>
<p>Process command output:</p>
<pre><code class="language-sh">find . -name "*.py" | wc -l | cgip "what does this number tell us about the project?"
</code></pre>
<h2 id="working-with-different-input-types"><a class="header" href="#working-with-different-input-types">Working with Different Input Types</a></h2>
<h3 id="standard-input-stdin"><a class="header" href="#standard-input-stdin">Standard Input (stdin)</a></h3>
<p>When you pipe data to cgip, it becomes the primary context:</p>
<pre><code class="language-sh">echo "Hello World" | cgip "translate this to French"
</code></pre>
<h3 id="command-arguments"><a class="header" href="#command-arguments">Command Arguments</a></h3>
<p>Direct text queries:</p>
<pre><code class="language-sh">cgip "write a Python function to calculate fibonacci numbers"
</code></pre>
<h3 id="file-input"><a class="header" href="#file-input">File Input</a></h3>
<p>Reference file contents:</p>
<pre><code class="language-sh">cgip "optimize this SQL query" -f slow-query.sql
</code></pre>
<h3 id="combining-all-three"><a class="header" href="#combining-all-three">Combining All Three</a></h3>
<pre><code class="language-sh"># Error from compilation + question + config file context
cargo test 2&gt;&amp;1 | cgip "why is this test failing?" -f Cargo.toml
</code></pre>
<h2 id="output-modes"><a class="header" href="#output-modes">Output Modes</a></h2>
<h3 id="standard-output"><a class="header" href="#standard-output">Standard Output</a></h3>
<p>By default, cgip outputs the AI response to stdout:</p>
<pre><code class="language-sh">cgip "hello" &gt; response.txt
</code></pre>
<h3 id="show-context"><a class="header" href="#show-context">Show Context</a></h3>
<p>See what context is being sent to the AI:</p>
<pre><code class="language-sh">cgip "test" --show-context
</code></pre>
<h3 id="markdown-formatting"><a class="header" href="#markdown-formatting">Markdown Formatting</a></h3>
<p>Display context in a human-readable table:</p>
<pre><code class="language-sh">cgip "test" --markdown --show-context
</code></pre>
<h2 id="model-selection"><a class="header" href="#model-selection">Model Selection</a></h2>
<h3 id="using-different-models"><a class="header" href="#using-different-models">Using Different Models</a></h3>
<p>Specify a model for your query:</p>
<pre><code class="language-sh">cgip --model gpt-4o "complex reasoning task"
</code></pre>
<h3 id="list-available-models"><a class="header" href="#list-available-models">List Available Models</a></h3>
<p>See what models are available:</p>
<pre><code class="language-sh">cgip --list-models
</code></pre>
<h3 id="set-default-model"><a class="header" href="#set-default-model">Set Default Model</a></h3>
<p>Configure your preferred model:</p>
<pre><code class="language-sh">cgip config --set model=gpt-4o
</code></pre>
<h2 id="system-prompts"><a class="header" href="#system-prompts">System Prompts</a></h2>
<h3 id="custom-system-prompt"><a class="header" href="#custom-system-prompt">Custom System Prompt</a></h3>
<p>Provide context about how the AI should respond:</p>
<pre><code class="language-sh">cgip --system-prompt "You are a expert Python developer" "review this code" -f script.py
</code></pre>
<h3 id="set-default-system-prompt"><a class="header" href="#set-default-system-prompt">Set Default System Prompt</a></h3>
<p>Configure a default system prompt:</p>
<pre><code class="language-sh">cgip config --set system_prompt="Always provide concise, technical answers"
</code></pre>
<h2 id="progress-and-debugging"><a class="header" href="#progress-and-debugging">Progress and Debugging</a></h2>
<h3 id="show-progress"><a class="header" href="#show-progress">Show Progress</a></h3>
<p>Display a progress indicator (useful for long operations):</p>
<pre><code class="language-sh">cgip --show-progress "analyze this large dataset" -f big-data.csv
</code></pre>
<h3 id="context-inspection"><a class="header" href="#context-inspection">Context Inspection</a></h3>
<p>When things aren't working as expected, examine the context being sent:</p>
<pre><code class="language-sh">echo "test input" | cgip "query" --show-context --markdown
</code></pre>
<h2 id="error-handling"><a class="header" href="#error-handling">Error Handling</a></h2>
<h3 id="stderr-redirection"><a class="header" href="#stderr-redirection">Stderr Redirection</a></h3>
<p>Since cgip reads from stdin, redirect stderr to stdout for error analysis:</p>
<pre><code class="language-sh">cargo build 2&gt;&amp;1 | cgip "what's the error?"
</code></pre>
<h3 id="network-issues"><a class="header" href="#network-issues">Network Issues</a></h3>
<p>If you encounter API errors, check your configuration:</p>
<pre><code class="language-sh">cgip config --get model
echo $OPENAI_API_KEY | cut -c1-10  # Check if key is set (shows first 10 chars)
</code></pre>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="be-specific"><a class="header" href="#be-specific">Be Specific</a></h3>
<p>Instead of:</p>
<pre><code class="language-sh">cgip "fix this"
</code></pre>
<p>Try:</p>
<pre><code class="language-sh">cgip "identify and suggest fixes for any Python syntax errors" -f script.py
</code></pre>
<h3 id="use-context-effectively"><a class="header" href="#use-context-effectively">Use Context Effectively</a></h3>
<p>Provide relevant context for better results:</p>
<pre><code class="language-sh"># Good: includes error and relevant file
python script.py 2&gt;&amp;1 | cgip "debug this error" -f script.py

# Less effective: only the error
python script.py 2&gt;&amp;1 | cgip "fix this"
</code></pre>
<h3 id="combine-with-unix-tools"><a class="header" href="#combine-with-unix-tools">Combine with Unix Tools</a></h3>
<p>Leverage the Unix philosophy:</p>
<pre><code class="language-sh"># Filter and analyze
grep "ERROR" app.log | tail -20 | cgip "what's causing these errors?"

# Process and summarize
find . -name "*.js" -exec wc -l {} + | cgip "analyze the code distribution"
</code></pre>
<h2 id="next-steps-3"><a class="header" href="#next-steps-3">Next Steps</a></h2>
<p>Now that you understand basic usage, explore:</p>
<ul>
<li><a href="./core-features.html">Core Features</a> - Sessions, web search, and advanced features</li>
<li><a href="./subcommands.html">Subcommands</a> - Specialized commands for images, TTS, and more</li>
<li><a href="./examples.html">Examples</a> - Real-world usage scenarios and workflows</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="core-features"><a class="header" href="#core-features">Core Features</a></h1>
<p>Chat Gipitty is a command-line tool that leverages OpenAI's models to address and respond to user queries. It provides several core features that make it powerful and flexible for various use cases.</p>
<h2 id="context-compilation"><a class="header" href="#context-compilation">Context Compilation</a></h2>
<p>Chat Gipitty compiles context for queries by prioritizing input in a specific order:</p>
<ol>
<li><strong>stdin</strong> - Input piped from other commands</li>
<li><strong>Command-line arguments</strong> - Direct text provided as arguments</li>
<li><strong>Files</strong> - Content from files specified with the <code>-f</code> flag</li>
</ol>
<p>This ordering allows for flexible composition of prompts from multiple sources.</p>
<h2 id="model-support"><a class="header" href="#model-support">Model Support</a></h2>
<p>While optimized for OpenAI's ChatGPT (with GPT-4 as the default model), Chat Gipitty works with multiple providers through OpenAI-compatible endpoints:</p>
<ul>
<li><strong>OpenAI</strong> (ChatGPT, GPT-4, GPT-3.5, etc.)</li>
<li><strong>Local models</strong> via <a href="https://ollama.com">Ollama</a></li>
<li><strong>Google Gemini</strong> (via OpenAI-compatible endpoints)</li>
<li><strong>Mistral AI</strong> (via OpenAI-compatible endpoints)</li>
<li><strong>Anthropic Claude</strong> (via OpenAI-compatible endpoints)</li>
<li><strong>Any other provider</strong> implementing the OpenAI Chat Completions API standard</li>
</ul>
<h2 id="session-management"><a class="header" href="#session-management">Session Management</a></h2>
<p>Chat Gipitty supports continuous chat sessions that persist across multiple interactions. Sessions are managed through the <code>CGIP_SESSION_NAME</code> environment variable, giving users control over session uniqueness and persistence.</p>
<h2 id="web-search-integration"><a class="header" href="#web-search-integration">Web Search Integration</a></h2>
<p>The <code>/search</code> command prefix enables web search functionality:</p>
<ul>
<li>For GPT models: Automatically switches to <code>gpt-4o-search-preview</code> for optimal search results</li>
<li>For non-GPT models: Adds web search capabilities while maintaining your configured model</li>
</ul>
<h2 id="multimodal-capabilities"><a class="header" href="#multimodal-capabilities">Multimodal Capabilities</a></h2>
<h3 id="image-analysis"><a class="header" href="#image-analysis">Image Analysis</a></h3>
<ul>
<li>Analyze images using vision-capable models (GPT-4o)</li>
<li>Extract text from images</li>
<li>Describe visual content</li>
<li>Supports JPEG, PNG, GIF, and WebP formats</li>
</ul>
<h3 id="text-to-speech"><a class="header" href="#text-to-speech">Text-to-Speech</a></h3>
<ul>
<li>Convert text to high-quality audio using OpenAI's TTS models</li>
<li>Multiple voice options (alloy, echo, fable, onyx, nova, shimmer)</li>
<li>Various audio formats (MP3, OPUS, AAC, FLAC)</li>
<li>Customizable speed and instructions</li>
</ul>
<h3 id="embedding-generation"><a class="header" href="#embedding-generation">Embedding Generation</a></h3>
<ul>
<li>Generate embedding vectors for text using OpenAI's embedding models</li>
<li>Support for different embedding models</li>
<li>Output to file or stdout</li>
</ul>
<h2 id="agentic-capabilities"><a class="header" href="#agentic-capabilities">Agentic Capabilities</a></h2>
<p>The agent subcommand provides an agentic workflow that lets the model:</p>
<ul>
<li>Execute shell commands in a specified directory</li>
<li>Receive command output as feedback</li>
<li>Iterate through multiple commands to complete complex tasks</li>
<li>Maintain safety by restricting operations to a chosen directory</li>
</ul>
<h2 id="flexible-inputoutput"><a class="header" href="#flexible-inputoutput">Flexible Input/Output</a></h2>
<ul>
<li><strong>Piping support</strong>: Seamlessly pipe output from other commands</li>
<li><strong>File input</strong>: Read content from files with the <code>-f</code> flag</li>
<li><strong>Combined input</strong>: Mix stdin, arguments, and file content</li>
<li><strong>Progress indicators</strong>: Optional progress display</li>
<li><strong>Context viewing</strong>: Inspect the full context being sent to the model</li>
<li><strong>Markdown formatting</strong>: Human-readable output formatting</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="piping-and-context"><a class="header" href="#piping-and-context">Piping and Context</a></h1>
<p>One of Chat Gipitty's most powerful features is its ability to seamlessly integrate with shell pipelines and compile context from multiple sources. This makes it incredibly useful for debugging, analysis, and processing command output.</p>
<h2 id="context-priority-order"><a class="header" href="#context-priority-order">Context Priority Order</a></h2>
<p>Chat Gipitty compiles context for queries by prioritizing input in this specific order:</p>
<ol>
<li><strong>stdin</strong> (highest priority)</li>
<li><strong>Command-line arguments</strong></li>
<li><strong>Files</strong> (specified with <code>-f</code> flag, lowest priority)</li>
</ol>
<p>This ordering allows you to build complex prompts by combining different input sources.</p>
<h2 id="piping-examples"><a class="header" href="#piping-examples">Piping Examples</a></h2>
<h3 id="basic-piping"><a class="header" href="#basic-piping">Basic Piping</a></h3>
<p>Pipe command output directly to Chat Gipitty:</p>
<pre><code class="language-bash"># Debug compilation errors
cargo build 2&gt;&amp;1 | cgip "explain this error"

# Analyze log files
tail -f /var/log/app.log | cgip "summarize the errors"

# Process directory listings
ls -la | cgip "what can you tell me about these files?"
</code></pre>
<h3 id="converting-stderr-to-stdout"><a class="header" href="#converting-stderr-to-stdout">Converting stderr to stdout</a></h3>
<p>Many commands output errors to stderr. Use <code>2&gt;&amp;1</code> to redirect stderr to stdout so it can be piped:</p>
<pre><code class="language-bash"># Capture both stdout and stderr
cargo build 2&gt;&amp;1 | cgip "give me a short summary of the kind of error this is"

# Debug failed tests
cargo test 2&gt;&amp;1 | cgip "what tests are failing and why?"
</code></pre>
<h3 id="complex-pipeline-examples"><a class="header" href="#complex-pipeline-examples">Complex Pipeline Examples</a></h3>
<pre><code class="language-bash"># Analyze system processes
ps aux | head -20 | cgip "which processes are using the most resources?"

# Git log analysis
git log --oneline -10 | cgip "summarize the recent changes"

# Network analysis
netstat -an | cgip "are there any suspicious network connections?"

# File system analysis
du -sh * | cgip "which directories are taking up the most space?"
</code></pre>
<h2 id="combining-input-sources"><a class="header" href="#combining-input-sources">Combining Input Sources</a></h2>
<h3 id="stdin--arguments"><a class="header" href="#stdin--arguments">stdin + Arguments</a></h3>
<pre><code class="language-bash"># Pipe input and add additional context
ls -la | cgip "analyze these files and suggest cleanup actions"

# Process command output with specific instructions
docker ps | cgip "which containers might have issues?"
</code></pre>
<h3 id="stdin--files"><a class="header" href="#stdin--files">stdin + Files</a></h3>
<pre><code class="language-bash"># Combine piped input with file content
cat error.log | cgip -f config.yaml "analyze this error in context of the config"
</code></pre>
<h3 id="arguments--files"><a class="header" href="#arguments--files">Arguments + Files</a></h3>
<pre><code class="language-bash"># Combine direct text with file content
cgip "convert this to python" -f src/main.rs

# Add context to file analysis
cgip "explain this code and suggest improvements" -f script.sh
</code></pre>
<h2 id="context-viewing"><a class="header" href="#context-viewing">Context Viewing</a></h2>
<p>Use the <code>--show-context</code> or <code>-c</code> flag to see exactly what context is being sent:</p>
<pre><code class="language-bash">ls | cgip -c "what files are here?"
</code></pre>
<p>This will show you the full context including:</p>
<ul>
<li>The piped input (ls output)</li>
<li>Your query</li>
<li>Any session history</li>
<li>System prompts</li>
</ul>
<h2 id="advanced-context-options"><a class="header" href="#advanced-context-options">Advanced Context Options</a></h2>
<h3 id="markdown-output"><a class="header" href="#markdown-output">Markdown Output</a></h3>
<p>Use <code>-m</code> or <code>--markdown</code> to format context in a human-readable table:</p>
<pre><code class="language-bash">ps aux | cgip -m "analyze these processes"
</code></pre>
<h3 id="no-session-context"><a class="header" href="#no-session-context">No Session Context</a></h3>
<p>Use <code>-n</code> or <code>--no-session</code> to exclude session history from the context:</p>
<pre><code class="language-bash">sensitive_command | cgip -n "analyze this output"
</code></pre>
<h3 id="progress-indicators"><a class="header" href="#progress-indicators">Progress Indicators</a></h3>
<p>Use <code>-p</code> or <code>--show-progress</code> to see progress (note: this might interfere with stdout):</p>
<pre><code class="language-bash">large_command | cgip -p "process this data"
</code></pre>
<h2 id="best-practices-1"><a class="header" href="#best-practices-1">Best Practices</a></h2>
<h3 id="1-error-handling"><a class="header" href="#1-error-handling">1. Error Handling</a></h3>
<p>Always use <code>2&gt;&amp;1</code> when you want to capture error output:</p>
<pre><code class="language-bash"># Good: Captures both success and error output
command 2&gt;&amp;1 | cgip "analyze the result"

# Limited: Only captures success output
command | cgip "analyze the result"
</code></pre>
<h3 id="2-data-size-considerations"><a class="header" href="#2-data-size-considerations">2. Data Size Considerations</a></h3>
<p>Be mindful of large outputs that might exceed token limits:</p>
<pre><code class="language-bash"># Good: Limit output size
head -100 large_file.log | cgip "analyze these log entries"

# Potentially problematic: Entire large file
cat huge_file.log | cgip "analyze this"
</code></pre>
<h3 id="3-structured-output"><a class="header" href="#3-structured-output">3. Structured Output</a></h3>
<p>Some commands have structured output that works well with Chat Gipitty:</p>
<pre><code class="language-bash"># JSON output
kubectl get pods -o json | cgip "which pods are not running?"

# CSV data
cat data.csv | cgip "find anomalies in this data"

# YAML configuration
cat config.yaml | cgip "check this configuration for issues"
</code></pre>
<h3 id="4-real-time-processing"><a class="header" href="#4-real-time-processing">4. Real-time Processing</a></h3>
<p>For real-time log analysis:</p>
<pre><code class="language-bash"># Monitor logs in real-time
tail -f /var/log/app.log | cgip "alert me to any errors"

# Watch system resources
watch -n 5 'ps aux --sort=-%cpu | head -10' | cgip "monitor for resource issues"
</code></pre>
<h2 id="integration-with-development-workflow"><a class="header" href="#integration-with-development-workflow">Integration with Development Workflow</a></h2>
<h3 id="code-analysis"><a class="header" href="#code-analysis">Code Analysis</a></h3>
<pre><code class="language-bash"># Check code quality
eslint src/ | cgip "what are the main code quality issues?"

# Analyze test failures
npm test 2&gt;&amp;1 | cgip "why are these tests failing?"
</code></pre>
<h3 id="system-administration-1"><a class="header" href="#system-administration-1">System Administration</a></h3>
<pre><code class="language-bash"># Check system health
systemctl status | cgip "are there any service issues?"

# Analyze disk usage
df -h | cgip "do I have any disk space issues?"
</code></pre>
<h3 id="data-processing"><a class="header" href="#data-processing">Data Processing</a></h3>
<pre><code class="language-bash"># Process CSV data
cat sales_data.csv | cgip "calculate the total revenue by region"

# Analyze API responses
curl -s https://api.example.com/data | cgip "extract key insights from this API response"
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="session-management-1"><a class="header" href="#session-management-1">Session Management</a></h1>
<p>Chat Gipitty provides powerful session management capabilities that allow for continuous conversations across multiple interactions. Sessions persist context between commands, enabling more natural and contextual conversations.</p>
<h2 id="how-sessions-work"><a class="header" href="#how-sessions-work">How Sessions Work</a></h2>
<p>Sessions store the conversation history (both user messages and assistant responses) and reuse this context in subsequent interactions. This allows the model to:</p>
<ul>
<li>Remember previous questions and answers</li>
<li>Build upon earlier context</li>
<li>Maintain conversation flow across commands</li>
<li>Provide more coherent and contextually aware responses</li>
</ul>
<h2 id="enabling-sessions"><a class="header" href="#enabling-sessions">Enabling Sessions</a></h2>
<p>Sessions are controlled by the <code>CGIP_SESSION_NAME</code> environment variable. Without this variable, Chat Gipitty operates in stateless mode.</p>
<pre><code class="language-bash"># Enable sessions with a unique session ID
export CGIP_SESSION_NAME=$(uuidgen)

# Or use any custom session name
export CGIP_SESSION_NAME="my-coding-session"
</code></pre>
<h2 id="session-naming-strategies"><a class="header" href="#session-naming-strategies">Session Naming Strategies</a></h2>
<p>The uniqueness and persistence of your session depends on how you set the <code>CGIP_SESSION_NAME</code> variable:</p>
<h3 id="terminal-specific-sessions"><a class="header" href="#terminal-specific-sessions">Terminal-Specific Sessions</a></h3>
<p>Each new terminal gets its own session:</p>
<pre><code class="language-bash"># Add to ~/.bashrc or ~/.zshrc
export CGIP_SESSION_NAME=$(uuidgen)
</code></pre>
<h3 id="daily-sessions"><a class="header" href="#daily-sessions">Daily Sessions</a></h3>
<p>Same session for the entire day:</p>
<pre><code class="language-bash">export CGIP_SESSION_NAME=$(date -I)  # 2024-01-15
</code></pre>
<h3 id="weekly-sessions"><a class="header" href="#weekly-sessions">Weekly Sessions</a></h3>
<p>Sessions that persist for a week:</p>
<pre><code class="language-bash">export CGIP_SESSION_NAME=$(date +%Y-W%U)  # 2024-W03
</code></pre>
<h3 id="project-based-sessions"><a class="header" href="#project-based-sessions">Project-Based Sessions</a></h3>
<p>Different sessions for different projects:</p>
<pre><code class="language-bash"># Use current directory name
export CGIP_SESSION_NAME="project-$(basename $PWD)"

# Use git repository name if in a git repo
export CGIP_SESSION_NAME="git-$(git rev-parse --show-toplevel | xargs basename 2&gt;/dev/null || echo 'no-git')"
</code></pre>
<h3 id="custom-session-names"><a class="header" href="#custom-session-names">Custom Session Names</a></h3>
<p>Manually managed sessions:</p>
<pre><code class="language-bash">export CGIP_SESSION_NAME="debugging-api-issue"
export CGIP_SESSION_NAME="code-review-session"
export CGIP_SESSION_NAME="learning-rust"
</code></pre>
<h2 id="session-workflow-examples"><a class="header" href="#session-workflow-examples">Session Workflow Examples</a></h2>
<h3 id="continuous-development-session"><a class="header" href="#continuous-development-session">Continuous Development Session</a></h3>
<pre><code class="language-bash"># First interaction
cgip "I'm working on a Rust web API project"

# Later, without needing to re-explain context
cgip "How should I structure the authentication middleware?"

# Even later
cgip "Can you help me write tests for the authentication we discussed?"
</code></pre>
<h3 id="debugging-session"><a class="header" href="#debugging-session">Debugging Session</a></h3>
<pre><code class="language-bash"># Start debugging session
cargo build 2&gt;&amp;1 | cgip "This build is failing, what's wrong?"

# Continue debugging with context
cgip "How can I fix the lifetime issues you mentioned?"

# Test the fix
cargo build 2&gt;&amp;1 | cgip "Is this error related to our previous discussion?"
</code></pre>
<h3 id="learning-session"><a class="header" href="#learning-session">Learning Session</a></h3>
<pre><code class="language-bash"># Initial question
cgip "I'm learning about async programming in Rust"

# Follow-up questions maintain context
cgip "Can you give me a practical example?"

# Build on previous examples
cgip "How would I modify that example to handle errors?"
</code></pre>
<h2 id="session-management-commands"><a class="header" href="#session-management-commands">Session Management Commands</a></h2>
<p>The <code>session</code> subcommand provides tools for managing your current session:</p>
<h3 id="view-session-context"><a class="header" href="#view-session-context">View Session Context</a></h3>
<pre><code class="language-bash">cgip session --view
</code></pre>
<p>Shows all messages in the current session, allowing you to see what context will be included in future queries.</p>
<h3 id="clear-session"><a class="header" href="#clear-session">Clear Session</a></h3>
<pre><code class="language-bash">cgip session --clear
</code></pre>
<p>Removes all stored context from the current session, starting fresh while keeping the same session name.</p>
<h2 id="session-best-practices"><a class="header" href="#session-best-practices">Session Best Practices</a></h2>
<h3 id="1-choose-appropriate-session-scope"><a class="header" href="#1-choose-appropriate-session-scope">1. Choose Appropriate Session Scope</a></h3>
<ul>
<li><strong>Terminal sessions</strong> (<code>uuidgen</code>): Best for isolated work sessions</li>
<li><strong>Daily sessions</strong> (<code>date -I</code>): Good for ongoing projects</li>
<li><strong>Project sessions</strong>: Best for long-term project work</li>
</ul>
<h3 id="2-clear-sessions-when-needed"><a class="header" href="#2-clear-sessions-when-needed">2. Clear Sessions When Needed</a></h3>
<p>Clear sessions when:</p>
<ul>
<li>Context becomes too long and irrelevant</li>
<li>Switching to a completely different topic</li>
<li>The model becomes confused by accumulated context</li>
<li>Working with sensitive information</li>
</ul>
<pre><code class="language-bash">cgip session --clear
</code></pre>
<h3 id="3-use-session-aware-queries"><a class="header" href="#3-use-session-aware-queries">3. Use Session-Aware Queries</a></h3>
<p>Take advantage of session context:</p>
<pre><code class="language-bash"># Instead of repeating context
cgip "In the React project I mentioned earlier, how should I..."

# You can simply say
cgip "How should I implement user authentication in this project?"
</code></pre>
<h3 id="4-bypass-sessions-when-needed"><a class="header" href="#4-bypass-sessions-when-needed">4. Bypass Sessions When Needed</a></h3>
<p>Use the <code>--no-session</code> flag for one-off queries:</p>
<pre><code class="language-bash"># Quick lookup that doesn't need session context
cgip -n "What's the syntax for Python list comprehensions?"

# Sensitive query that shouldn't be stored
sensitive_command | cgip -n "analyze this output"
</code></pre>
<h2 id="session-storage"><a class="header" href="#session-storage">Session Storage</a></h2>
<p>Sessions are stored locally on your system in the Chat Gipitty configuration directory. The exact location depends on your operating system:</p>
<ul>
<li><strong>Linux</strong>: <code>~/.config/cgip/sessions/</code></li>
<li><strong>macOS</strong>: <code>~/Library/Application Support/cgip/sessions/</code></li>
<li><strong>Windows</strong>: <code>%APPDATA%\cgip\sessions\</code></li>
</ul>
<p>Each session is stored as a separate file named after your <code>CGIP_SESSION_NAME</code>.</p>
<h2 id="privacy-and-security"><a class="header" href="#privacy-and-security">Privacy and Security</a></h2>
<h3 id="session-privacy"><a class="header" href="#session-privacy">Session Privacy</a></h3>
<ul>
<li>Sessions are stored locally and never sent to external servers</li>
<li>Only the session content (messages) is sent to the API, not metadata</li>
<li>Session files are readable only by your user account</li>
</ul>
<h3 id="managing-sensitive-sessions"><a class="header" href="#managing-sensitive-sessions">Managing Sensitive Sessions</a></h3>
<p>For sensitive work:</p>
<pre><code class="language-bash"># Use temporary session names
export CGIP_SESSION_NAME="temp-$(date +%s)"

# Clear after sensitive work
cgip session --clear

# Or use no-session mode
cgip -n "sensitive query"
</code></pre>
<h2 id="advanced-session-patterns"><a class="header" href="#advanced-session-patterns">Advanced Session Patterns</a></h2>
<h3 id="conditional-session-management"><a class="header" href="#conditional-session-management">Conditional Session Management</a></h3>
<pre><code class="language-bash"># Different session strategies based on directory
if [[ "$PWD" == *"work"* ]]; then
    export CGIP_SESSION_NAME="work-$(date -I)"
else
    export CGIP_SESSION_NAME="personal-$(date -I)"
fi
</code></pre>
<h3 id="session-inheritance"><a class="header" href="#session-inheritance">Session Inheritance</a></h3>
<pre><code class="language-bash"># Base session for project
export CGIP_BASE_SESSION="project-myapp"

# Feature-specific sessions that inherit context
export CGIP_SESSION_NAME="${CGIP_BASE_SESSION}-auth"
export CGIP_SESSION_NAME="${CGIP_BASE_SESSION}-frontend"
</code></pre>
<h3 id="multi-user-environments"><a class="header" href="#multi-user-environments">Multi-User Environments</a></h3>
<pre><code class="language-bash"># Include username in session names
export CGIP_SESSION_NAME="$(whoami)-$(date -I)"

# Or use more specific naming
export CGIP_SESSION_NAME="$(whoami)-$(basename $PWD)-$(date +%Y%m%d)"
</code></pre>
<h2 id="troubleshooting-sessions"><a class="header" href="#troubleshooting-sessions">Troubleshooting Sessions</a></h2>
<h3 id="session-not-working"><a class="header" href="#session-not-working">Session Not Working</a></h3>
<p>If sessions aren't working:</p>
<ol>
<li>
<p>Check if <code>CGIP_SESSION_NAME</code> is set:</p>
<pre><code class="language-bash">echo $CGIP_SESSION_NAME
</code></pre>
</li>
<li>
<p>Verify session storage permissions:</p>
<pre><code class="language-bash">ls -la ~/.config/cgip/sessions/  # Linux
ls -la ~/Library/Application\ Support/cgip/sessions/  # macOS
</code></pre>
</li>
<li>
<p>Clear and restart session:</p>
<pre><code class="language-bash">cgip session --clear
</code></pre>
</li>
</ol>
<h3 id="session-too-long"><a class="header" href="#session-too-long">Session Too Long</a></h3>
<p>If sessions become too long and unwieldy:</p>
<ul>
<li>Clear the session: <code>cgip session --clear</code></li>
<li>Use more specific session names for different topics</li>
<li>Use <code>--no-session</code> for unrelated queries</li>
</ul>
<h3 id="context-confusion"><a class="header" href="#context-confusion">Context Confusion</a></h3>
<p>If the model seems confused by session context:</p>
<ul>
<li>View the session: <code>cgip session --view</code></li>
<li>Clear irrelevant context: <code>cgip session --clear</code></li>
<li>Start a new session with a different name</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="web-search"><a class="header" href="#web-search">Web Search</a></h1>
<p>Chat Gipitty supports web search functionality through the <code>/search</code> command prefix. When you start your message with <code>/search</code>, the application will enable web search capabilities to provide you with up-to-date information from the internet.</p>
<h2 id="how-web-search-works"><a class="header" href="#how-web-search-works">How Web Search Works</a></h2>
<p>The web search feature adapts based on your configured model:</p>
<ul>
<li><strong>For GPT models</strong> (models starting with "gpt"): The application automatically switches to the <code>gpt-4o-search-preview</code> model and enables web search options for optimal search results.</li>
<li><strong>For non-GPT models</strong> (like Claude, Llama, or other custom models): The application keeps your configured model and adds web search options to the request.</li>
</ul>
<h2 id="basic-usage-1"><a class="header" href="#basic-usage-1">Basic Usage</a></h2>
<p>To use web search, simply prefix your query with <code>/search</code>:</p>
<pre><code class="language-bash">cgip "/search What are the latest developments in AI?"
</code></pre>
<p>The <code>/search</code> prefix will be automatically removed from your message before it's sent to the model, so you don't need to worry about it affecting the actual prompt.</p>
<h2 id="usage-examples"><a class="header" href="#usage-examples">Usage Examples</a></h2>
<h3 id="current-events"><a class="header" href="#current-events">Current Events</a></h3>
<pre><code class="language-bash"># Search for recent news
cgip "/search What are the latest developments in renewable energy?"

# Get current market information
cgip "/search What is the current price of Bitcoin?"

# Find recent technology updates
cgip "/search What are the new features in the latest Python release?"
</code></pre>
<h3 id="technical-information"><a class="header" href="#technical-information">Technical Information</a></h3>
<pre><code class="language-bash"># Search for current best practices
cgip "/search What are the current best practices for React performance optimization?"

# Find up-to-date documentation
cgip "/search How to configure Docker containers for production in 2024?"

# Get current software versions
cgip "/search What is the current stable version of Rust?"
</code></pre>
<h3 id="research-and-analysis"><a class="header" href="#research-and-analysis">Research and Analysis</a></h3>
<pre><code class="language-bash"># Market research
cgip "/search What are the current trends in mobile app development?"

# Academic research
cgip "/search What are the latest findings on climate change mitigation?"

# Competitive analysis
cgip "/search What are the main competitors to OpenAI in the AI space?"
</code></pre>
<h2 id="combining-web-search-with-other-features"><a class="header" href="#combining-web-search-with-other-features">Combining Web Search with Other Features</a></h2>
<h3 id="web-search-with-file-input"><a class="header" href="#web-search-with-file-input">Web Search with File Input</a></h3>
<p>You can combine web search with file analysis:</p>
<pre><code class="language-bash"># Search for context about your code
cgip "/search How can I optimize this code for performance?" -f my_script.py

# Get current information about technologies in your project
cgip "/search What are the latest security best practices for this framework?" -f package.json
</code></pre>
<h3 id="web-search-with-piped-input"><a class="header" href="#web-search-with-piped-input">Web Search with Piped Input</a></h3>
<p>Web search works with piped input as well:</p>
<pre><code class="language-bash"># Search for solutions to error messages
command_that_fails 2&gt;&amp;1 | cgip "/search How to fix this error?"

# Get current information about command output
ps aux | cgip "/search What do these system processes indicate about performance?"
</code></pre>
<h3 id="web-search-in-sessions"><a class="header" href="#web-search-in-sessions">Web Search in Sessions</a></h3>
<p>Web search results become part of your session context:</p>
<pre><code class="language-bash"># First query with search
cgip "/search What are the current JavaScript frameworks for 2024?"

# Follow-up question using search results
cgip "Which of these would be best for a small team project?"
</code></pre>
<h2 id="model-behavior"><a class="header" href="#model-behavior">Model Behavior</a></h2>
<h3 id="gpt-models"><a class="header" href="#gpt-models">GPT Models</a></h3>
<p>When using GPT models with web search:</p>
<ul>
<li>Automatically switches to <code>gpt-4o-search-preview</code></li>
<li>Provides real-time web search results</li>
<li>Cites sources when possible</li>
<li>Combines web information with the model's knowledge</li>
</ul>
<h3 id="non-gpt-models"><a class="header" href="#non-gpt-models">Non-GPT Models</a></h3>
<p>When using other models (Claude, Llama, etc.):</p>
<ul>
<li>Keeps your configured model</li>
<li>Adds web search capabilities to the request</li>
<li>May have varying levels of web search integration depending on the provider</li>
</ul>
<h2 id="best-practices-2"><a class="header" href="#best-practices-2">Best Practices</a></h2>
<h3 id="1-be-specific"><a class="header" href="#1-be-specific">1. Be Specific</a></h3>
<p>More specific search queries yield better results:</p>
<pre><code class="language-bash"># Good: Specific query
cgip "/search React 18 performance optimization techniques 2024"

# Less effective: Vague query
cgip "/search React performance"
</code></pre>
<h3 id="2-use-current-context"><a class="header" href="#2-use-current-context">2. Use Current Context</a></h3>
<p>Include temporal context when relevant:</p>
<pre><code class="language-bash"># Good: Includes timeframe
cgip "/search Current cybersecurity threats in 2024"

# Good: Includes version
cgip "/search Python 3.12 new features and changes"
</code></pre>
<h3 id="3-combine-with-local-context"><a class="header" href="#3-combine-with-local-context">3. Combine with Local Context</a></h3>
<p>Use web search to enhance local analysis:</p>
<pre><code class="language-bash"># Analyze local file with current best practices
cgip "/search Current Node.js security best practices" -f package.json
</code></pre>
<h3 id="4-follow-up-questions"><a class="header" href="#4-follow-up-questions">4. Follow-up Questions</a></h3>
<p>Use session context to build on search results:</p>
<pre><code class="language-bash"># Initial search
cgip "/search Latest trends in machine learning deployment"

# Follow-up without search (uses previous context)
cgip "Which of these trends would be most relevant for a startup?"
</code></pre>
<h2 id="limitations-and-considerations"><a class="header" href="#limitations-and-considerations">Limitations and Considerations</a></h2>
<h3 id="rate-limits"><a class="header" href="#rate-limits">Rate Limits</a></h3>
<ul>
<li>Web search may be subject to additional rate limits</li>
<li>Consider the cost implications of web search requests</li>
</ul>
<h3 id="accuracy"><a class="header" href="#accuracy">Accuracy</a></h3>
<ul>
<li>Always verify important information from multiple sources</li>
<li>Web search results reflect current information but may not always be accurate</li>
</ul>
<h3 id="privacy"><a class="header" href="#privacy">Privacy</a></h3>
<ul>
<li>Web search queries may be logged by the API provider</li>
<li>Be mindful of sensitive information in search queries</li>
</ul>
<h3 id="model-compatibility"><a class="header" href="#model-compatibility">Model Compatibility</a></h3>
<ul>
<li>Web search effectiveness varies by model and provider</li>
<li>Some custom endpoints may not support web search features</li>
</ul>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="search-not-working"><a class="header" href="#search-not-working">Search Not Working</a></h3>
<p>If web search doesn't seem to be working:</p>
<ol>
<li>
<p>Check your model configuration:</p>
<pre><code class="language-bash">cgip config --get model
</code></pre>
</li>
<li>
<p>Verify your API endpoint supports web search:</p>
<pre><code class="language-bash">cgip config --get base_url
</code></pre>
</li>
<li>
<p>Try with a GPT model explicitly:</p>
<pre><code class="language-bash">cgip -M gpt-4o "/search test query"
</code></pre>
</li>
</ol>
<h3 id="limited-results"><a class="header" href="#limited-results">Limited Results</a></h3>
<p>If you're getting limited search results:</p>
<ul>
<li>Try rephrasing your query</li>
<li>Be more specific about what you're looking for</li>
<li>Check if your API provider has web search enabled</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="subcommands"><a class="header" href="#subcommands">Subcommands</a></h1>
<p>Chat GipiTTY provides several specialized subcommands for different types of AI-powered tasks. Each subcommand is optimized for specific use cases, from image analysis to text-to-speech generation.</p>
<h2 id="overview-of-available-subcommands"><a class="header" href="#overview-of-available-subcommands">Overview of Available Subcommands</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Subcommand</th><th>Purpose</th><th>Key Features</th></tr></thead><tbody>
<tr><td><a href="./view-command.html">view</a></td><td>Context inspection</td><td>View context without API calls</td></tr>
<tr><td><a href="./config-command.html">config</a></td><td>Configuration management</td><td>Get/set configuration values</td></tr>
<tr><td><a href="./session-command.html">session</a></td><td>Session management</td><td>View and clear conversation history</td></tr>
<tr><td><a href="./image-command.html">image</a></td><td>Image analysis</td><td>Analyze images with vision models</td></tr>
<tr><td><a href="./tts-command.html">tts</a></td><td>Text-to-speech</td><td>Convert text to high-quality audio</td></tr>
<tr><td><a href="./embedding-command.html">embedding</a></td><td>Text embeddings</td><td>Generate vector representations</td></tr>
<tr><td><a href="./agent-command.html">agent</a></td><td>Autonomous execution</td><td>Let AI execute shell commands</td></tr>
<tr><td><a href="./upgrade-command.html">upgrade</a></td><td>Software updates</td><td>Upgrade to latest version</td></tr>
</tbody></table>
</div>
<h2 id="subcommand-categories"><a class="header" href="#subcommand-categories">Subcommand Categories</a></h2>
<h3 id="core-utilities"><a class="header" href="#core-utilities">Core Utilities</a></h3>
<ul>
<li><strong>view</strong>: Debug and inspect context before sending to AI</li>
<li><strong>config</strong>: Manage your Chat GipiTTY configuration</li>
<li><strong>session</strong>: Control conversation context and history</li>
</ul>
<h3 id="ai-capabilities"><a class="header" href="#ai-capabilities">AI Capabilities</a></h3>
<ul>
<li><strong>image</strong>: Multi-modal image understanding and analysis</li>
<li><strong>tts</strong>: High-quality voice synthesis</li>
<li><strong>embedding</strong>: Vector generation for semantic search</li>
<li><strong>agent</strong>: Autonomous task execution with tool calling</li>
</ul>
<h3 id="maintenance"><a class="header" href="#maintenance">Maintenance</a></h3>
<ul>
<li><strong>upgrade</strong>: Keep Chat GipiTTY up to date</li>
</ul>
<h2 id="common-usage-patterns-1"><a class="header" href="#common-usage-patterns-1">Common Usage Patterns</a></h2>
<h3 id="inspection-and-debugging"><a class="header" href="#inspection-and-debugging">Inspection and Debugging</a></h3>
<p>Use <code>view</code> to understand what context will be sent to the AI:</p>
<pre><code class="language-sh">echo "test data" | cgip view
</code></pre>
<h3 id="configuration-management"><a class="header" href="#configuration-management">Configuration Management</a></h3>
<p>Set up your preferred defaults:</p>
<pre><code class="language-sh">cgip config --set model=gpt-4o
cgip config --set system_prompt="Be concise and technical"
</code></pre>
<h3 id="multi-modal-tasks"><a class="header" href="#multi-modal-tasks">Multi-Modal Tasks</a></h3>
<p>Analyze images alongside text:</p>
<pre><code class="language-sh">cgip image --file screenshot.png "What errors do you see in this code?"
</code></pre>
<h3 id="voice-output"><a class="header" href="#voice-output">Voice Output</a></h3>
<p>Convert AI responses to speech:</p>
<pre><code class="language-sh">cgip "explain quantum computing" | cgip tts --voice nova --output explanation.mp3
</code></pre>
<h3 id="autonomous-workflows"><a class="header" href="#autonomous-workflows">Autonomous Workflows</a></h3>
<p>Let the AI execute commands to complete tasks:</p>
<pre><code class="language-sh">cgip agent ~/project "run tests and fix any failing ones"
</code></pre>
<h2 id="subcommand-help"><a class="header" href="#subcommand-help">Subcommand Help</a></h2>
<p>Each subcommand has its own help system:</p>
<pre><code class="language-sh">cgip &lt;subcommand&gt; --help
</code></pre>
<p>For example:</p>
<pre><code class="language-sh">cgip image --help
cgip tts --help
cgip agent --help
</code></pre>
<h2 id="combining-subcommands"><a class="header" href="#combining-subcommands">Combining Subcommands</a></h2>
<p>While subcommands are typically used independently, you can combine them in powerful ways:</p>
<h3 id="image-analysis-to-speech"><a class="header" href="#image-analysis-to-speech">Image Analysis to Speech</a></h3>
<pre><code class="language-sh">cgip image --file chart.png "describe this data" | cgip tts --voice alloy
</code></pre>
<h3 id="code-analysis-to-documentation"><a class="header" href="#code-analysis-to-documentation">Code Analysis to Documentation</a></h3>
<pre><code class="language-sh">cgip "document this function" -f code.py &gt; docs.md
cgip tts --voice fable &lt; docs.md
</code></pre>
<h3 id="session-management-with-analysis"><a class="header" href="#session-management-with-analysis">Session Management with Analysis</a></h3>
<pre><code class="language-sh"># Start a session, analyze, then view history
cgip "analyze this error" -f error.log
cgip session --view
</code></pre>
<h2 id="next-steps-4"><a class="header" href="#next-steps-4">Next Steps</a></h2>
<p>Explore each subcommand in detail:</p>
<ul>
<li>Start with <a href="./view-command.html">view</a> to understand context inspection</li>
<li>Learn <a href="./config-command.html">config</a> for personalized setup</li>
<li>Try <a href="./image-command.html">image</a> for visual AI capabilities</li>
<li>Experiment with <a href="./tts-command.html">tts</a> for voice synthesis</li>
<li>Discover <a href="./agent-command.html">agent</a> for autonomous workflows</li>
</ul>
<p>Each subcommand page includes detailed examples, options, and best practices for that specific functionality.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="view-command"><a class="header" href="#view-command">View Command</a></h1>
<p>The <code>view</code> command allows you to inspect the context that would be sent to the AI model without actually making an API call. This is invaluable for debugging, understanding how your inputs are processed, and optimizing your queries.</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>The <code>view</code> command renders the complete context that Chat GipiTTY would send to the AI, including:</p>
<ul>
<li>Input from stdin</li>
<li>Command line arguments</li>
<li>File contents (when using <code>-f</code>)</li>
<li>Session history (if enabled)</li>
<li>System prompts</li>
</ul>
<h2 id="basic-usage-2"><a class="header" href="#basic-usage-2">Basic Usage</a></h2>
<pre><code class="language-sh">cgip view
</code></pre>
<h2 id="command-help"><a class="header" href="#command-help">Command Help</a></h2>
<pre><code>Render the context without running a query against the model

Usage: cgip view

Options:
  -h, --help     Print help
  -V, --version  Print version
</code></pre>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<h3 id="basic-context-inspection"><a class="header" href="#basic-context-inspection">Basic Context Inspection</a></h3>
<p>View what gets sent when combining different inputs:</p>
<pre><code class="language-sh">echo "Here is some data" | cgip view "What can you tell me about this?"
</code></pre>
<h3 id="file-content-preview"><a class="header" href="#file-content-preview">File Content Preview</a></h3>
<p>See how file content is included in context:</p>
<pre><code class="language-sh">cgip view "Analyze this code" -f src/main.rs
</code></pre>
<h3 id="complex-context"><a class="header" href="#complex-context">Complex Context</a></h3>
<p>Inspect complex multi-source contexts:</p>
<pre><code class="language-sh">grep "ERROR" app.log | cgip view "Analyze these errors" -f config.yaml
</code></pre>
<h3 id="session-context"><a class="header" href="#session-context">Session Context</a></h3>
<p>View current session context (when sessions are enabled):</p>
<pre><code class="language-sh">export CGIP_SESSION_NAME=$(date -I)
cgip "Hello, I'm working on a project"
cgip view "What were we discussing?"
</code></pre>
<h2 id="use-cases"><a class="header" href="#use-cases">Use Cases</a></h2>
<h3 id="debugging-input-processing"><a class="header" href="#debugging-input-processing">Debugging Input Processing</a></h3>
<p>When your AI responses aren't what you expect, use <code>view</code> to understand what context is actually being sent:</p>
<pre><code class="language-sh"># Check if your pipe is working correctly
ps aux | head -10 | cgip view "analyze these processes"
</code></pre>
<h3 id="optimizing-context-size"><a class="header" href="#optimizing-context-size">Optimizing Context Size</a></h3>
<p>Large contexts can be expensive and slow. Use <code>view</code> to see how much context you're sending:</p>
<pre><code class="language-sh"># Check context size before sending
cat large-file.txt | cgip view "summarize this"
</code></pre>
<h3 id="understanding-file-processing"><a class="header" href="#understanding-file-processing">Understanding File Processing</a></h3>
<p>See exactly how files are being read and included:</p>
<pre><code class="language-sh">cgip view "explain this configuration" -f docker-compose.yml
</code></pre>
<h3 id="session-context-review"><a class="header" href="#session-context-review">Session Context Review</a></h3>
<p>Before important queries, review what conversation history will be included:</p>
<pre><code class="language-sh">cgip view "based on our previous discussion, what should I do next?"
</code></pre>
<h2 id="output-formatting"><a class="header" href="#output-formatting">Output Formatting</a></h2>
<p>The <code>view</code> command outputs the context in a structured format showing:</p>
<ol>
<li><strong>System Messages</strong>: Any system prompts or instructions</li>
<li><strong>User Messages</strong>: Your input, including stdin, arguments, and files</li>
<li><strong>Assistant Messages</strong>: Previous AI responses (if session is active)</li>
<li><strong>Context Metadata</strong>: Information about the context structure</li>
</ol>
<h3 id="example-output"><a class="header" href="#example-output">Example Output</a></h3>
<pre><code>=== CONTEXT VIEW ===

System Message:
You are a helpful AI assistant.

User Message:
[stdin]: Here is some error output
[argument]: What caused this error?
[file: config.yaml]: 
database:
  host: localhost
  port: 5432

Assistant Message (from session):
Based on the previous error, it seems like a connection issue...

=== END CONTEXT ===
</code></pre>
<h2 id="working-with-other-options"><a class="header" href="#working-with-other-options">Working with Other Options</a></h2>
<p>The <code>view</code> command respects the same options as regular queries:</p>
<h3 id="custom-system-prompt-1"><a class="header" href="#custom-system-prompt-1">Custom System Prompt</a></h3>
<pre><code class="language-sh">cgip view --system-prompt "You are a senior developer" "review this code" -f app.py
</code></pre>
<h3 id="different-models"><a class="header" href="#different-models">Different Models</a></h3>
<pre><code class="language-sh">cgip view --model gpt-4o "complex analysis task"
</code></pre>
<h3 id="show-context-options"><a class="header" href="#show-context-options">Show Context Options</a></h3>
<p>Combine with context display options:</p>
<pre><code class="language-sh">cgip view --show-context --markdown "test query"
</code></pre>
<h2 id="best-practices-3"><a class="header" href="#best-practices-3">Best Practices</a></h2>
<h3 id="before-expensive-queries"><a class="header" href="#before-expensive-queries">Before Expensive Queries</a></h3>
<p>Always use <code>view</code> before sending large or complex contexts:</p>
<pre><code class="language-sh"># Preview first
find . -name "*.py" -exec cat {} \; | cgip view "analyze all Python files"

# If context looks good, run the actual query
find . -name "*.py" -exec cat {} \; | cgip "analyze all Python files"
</code></pre>
<h3 id="debugging-unexpected-results"><a class="header" href="#debugging-unexpected-results">Debugging Unexpected Results</a></h3>
<p>When AI responses don't match expectations:</p>
<pre><code class="language-sh"># See what context was actually sent
cat data.csv | cgip view "analyze this data"
</code></pre>
<h3 id="context-size-management"><a class="header" href="#context-size-management">Context Size Management</a></h3>
<p>Monitor context size for cost and performance:</p>
<pre><code class="language-sh"># Check context before sending
tail -n 1000 huge-log.txt | cgip view "find critical errors"
</code></pre>
<h3 id="session-state-verification"><a class="header" href="#session-state-verification">Session State Verification</a></h3>
<p>Verify session state before important queries:</p>
<pre><code class="language-sh">cgip view "continue our previous analysis"
</code></pre>
<h2 id="troubleshooting-1"><a class="header" href="#troubleshooting-1">Troubleshooting</a></h2>
<h3 id="empty-context"><a class="header" href="#empty-context">Empty Context</a></h3>
<p>If <code>view</code> shows no context:</p>
<ul>
<li>Check that your input methods (stdin, files) are working</li>
<li>Verify file paths are correct</li>
<li>Make sure you're not in a new session when expecting history</li>
</ul>
<h3 id="unexpected-context"><a class="header" href="#unexpected-context">Unexpected Context</a></h3>
<p>If context includes unexpected content:</p>
<ul>
<li>Check for active sessions that might include previous conversation</li>
<li>Verify file contents are what you expect</li>
<li>Look for hidden characters in piped input</li>
</ul>
<h3 id="missing-context"><a class="header" href="#missing-context">Missing Context</a></h3>
<p>If expected context is missing:</p>
<ul>
<li>Ensure stdin is properly piped (use <code>2&gt;&amp;1</code> for stderr)</li>
<li>Verify file permissions and paths</li>
<li>Check that session is properly configured</li>
</ul>
<h2 id="next-steps-5"><a class="header" href="#next-steps-5">Next Steps</a></h2>
<ul>
<li>Learn about <a href="./session-command.html">session management</a> to control conversation history</li>
<li>Explore <a href="./config-command.html">configuration options</a> to customize default behavior</li>
<li>Try <a href="./basic-usage.html">basic usage patterns</a> with the confidence of knowing your context</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="config-command"><a class="header" href="#config-command">Config Command</a></h1>
<p>The <code>config</code> command allows you to set and retrieve default configuration values for Chat GipiTTY. This eliminates the need to specify common options repeatedly and provides a centralized way to manage your preferences.</p>
<h2 id="overview-1"><a class="header" href="#overview-1">Overview</a></h2>
<p>The configuration system uses a TOML file located in your system's config directory under <code>cgip/config.toml</code>. The config command provides a convenient interface to manage these settings without manually editing the file.</p>
<h2 id="basic-usage-3"><a class="header" href="#basic-usage-3">Basic Usage</a></h2>
<pre><code class="language-sh"># Set a configuration value
cgip config --set key=value

# Get a configuration value
cgip config --get key
</code></pre>
<h2 id="command-help-1"><a class="header" href="#command-help-1">Command Help</a></h2>
<pre><code>Set or get default configuration values with your config.toml

Usage: cgip config [OPTIONS]

Options:
  -s, --set &lt;SET&gt;  Set a configuration value. Use the format key=value. `cgip config --set model=gpt-4-turbo`
  -g, --get &lt;GET&gt;  Get your current configuration value. `cgip config --get model`
  -h, --help       Print help
  -V, --version    Print version
</code></pre>
<h2 id="configuration-options"><a class="header" href="#configuration-options">Configuration Options</a></h2>
<h3 id="model-settings"><a class="header" href="#model-settings">Model Settings</a></h3>
<p>Set your preferred default model:</p>
<pre><code class="language-sh">cgip config --set model=gpt-4o
</code></pre>
<p>Get your current model:</p>
<pre><code class="language-sh">cgip config --get model
</code></pre>
<h3 id="system-prompt"><a class="header" href="#system-prompt">System Prompt</a></h3>
<p>Configure a default system prompt:</p>
<pre><code class="language-sh">cgip config --set system_prompt="You are a helpful coding assistant. Provide concise, accurate answers."
</code></pre>
<h3 id="api-settings"><a class="header" href="#api-settings">API Settings</a></h3>
<p>Configure API-related settings:</p>
<pre><code class="language-sh"># Set custom base URL (alternatively use OPENAI_BASE_URL env var)
cgip config --set base_url=http://localhost:11434/v1

# Set default max tokens
cgip config --set max_tokens=2000
</code></pre>
<h3 id="response-settings"><a class="header" href="#response-settings">Response Settings</a></h3>
<p>Control response behavior:</p>
<pre><code class="language-sh"># Set creativity level (0.0 to 2.0)
cgip config --set temperature=0.7

# Set response diversity
cgip config --set top_p=0.9
</code></pre>
<h2 id="common-configuration-examples"><a class="header" href="#common-configuration-examples">Common Configuration Examples</a></h2>
<h3 id="for-development-work"><a class="header" href="#for-development-work">For Development Work</a></h3>
<pre><code class="language-sh">cgip config --set model=gpt-4o
cgip config --set system_prompt="You are an expert software engineer. Provide technical, detailed responses with code examples when relevant."
cgip config --set temperature=0.3
</code></pre>
<h3 id="for-creative-tasks"><a class="header" href="#for-creative-tasks">For Creative Tasks</a></h3>
<pre><code class="language-sh">cgip config --set model=gpt-4
cgip config --set system_prompt="You are a creative writing assistant. Be imaginative and expressive."
cgip config --set temperature=1.2
</code></pre>
<h3 id="for-local-ai-models"><a class="header" href="#for-local-ai-models">For Local AI Models</a></h3>
<pre><code class="language-sh">cgip config --set base_url=http://localhost:11434/v1
cgip config --set model=llama3
cgip config --set system_prompt="You are a helpful assistant running locally."
</code></pre>
<h2 id="viewing-all-configuration"><a class="header" href="#viewing-all-configuration">Viewing All Configuration</a></h2>
<p>To see all your current configuration settings, you can manually inspect the config file:</p>
<pre><code class="language-sh"># On Linux/macOS
cat ~/.config/cgip/config.toml

# On macOS (alternative location)
cat ~/Library/Application\ Support/cgip/config.toml
</code></pre>
<h2 id="configuration-file-format"><a class="header" href="#configuration-file-format">Configuration File Format</a></h2>
<p>The configuration file uses TOML format:</p>
<pre><code class="language-toml">model = "gpt-4o"
system_prompt = "You are a helpful assistant."
temperature = 0.7
max_tokens = 1500
base_url = "https://api.openai.com"
</code></pre>
<h2 id="environment-variables-vs-configuration"><a class="header" href="#environment-variables-vs-configuration">Environment Variables vs Configuration</a></h2>
<p>Configuration precedence (highest to lowest):</p>
<ol>
<li><strong>Command-line options</strong> (e.g., <code>--model gpt-4</code>)</li>
<li><strong>Environment variables</strong> (e.g., <code>OPENAI_BASE_URL</code>)</li>
<li><strong>Configuration file</strong> (set via <code>cgip config</code>)</li>
<li><strong>Built-in defaults</strong></li>
</ol>
<p>This means you can override configuration file settings with environment variables or command-line options when needed.</p>
<h2 id="common-configuration-patterns"><a class="header" href="#common-configuration-patterns">Common Configuration Patterns</a></h2>
<h3 id="project-specific-configuration"><a class="header" href="#project-specific-configuration">Project-Specific Configuration</a></h3>
<p>For different projects, you might want different settings:</p>
<pre><code class="language-sh"># Web development project
cgip config --set system_prompt="You are a web development expert. Focus on modern JavaScript, React, and Node.js."

# Data science project  
cgip config --set system_prompt="You are a data science expert. Focus on Python, pandas, and machine learning."
</code></pre>
<h3 id="provider-specific-settings"><a class="header" href="#provider-specific-settings">Provider-Specific Settings</a></h3>
<p>When switching between different AI providers:</p>
<pre><code class="language-sh"># OpenAI setup
cgip config --set base_url=https://api.openai.com
cgip config --set model=gpt-4o

# Local Ollama setup
cgip config --set base_url=http://localhost:11434/v1
cgip config --set model=llama3
</code></pre>
<h2 id="resetting-configuration"><a class="header" href="#resetting-configuration">Resetting Configuration</a></h2>
<p>To reset a configuration value to its default:</p>
<pre><code class="language-sh"># This will remove the setting from your config file
cgip config --set model=
</code></pre>
<p>Or manually edit the config file to remove unwanted settings.</p>
<h2 id="troubleshooting-2"><a class="header" href="#troubleshooting-2">Troubleshooting</a></h2>
<h3 id="configuration-not-applied"><a class="header" href="#configuration-not-applied">Configuration Not Applied</a></h3>
<p>If your configuration changes aren't taking effect:</p>
<ol>
<li>Check the config file location and permissions</li>
<li>Verify the TOML syntax is correct</li>
<li>Remember that command-line options override config file settings</li>
<li>Check for environment variables that might override config</li>
</ol>
<h3 id="invalid-configuration-values"><a class="header" href="#invalid-configuration-values">Invalid Configuration Values</a></h3>
<p>If you set an invalid value:</p>
<pre><code class="language-sh"># Invalid model name
cgip config --set model=invalid-model
</code></pre>
<p>You'll get an error when trying to use Chat GipiTTY. Use <code>cgip config --get model</code> to verify your settings.</p>
<h3 id="config-file-location"><a class="header" href="#config-file-location">Config File Location</a></h3>
<p>If you're unsure where your config file is located:</p>
<pre><code class="language-sh"># The config command will create the file if it doesn't exist
cgip config --set temp_key=temp_value
cgip config --set temp_key=  # Remove the temporary key
</code></pre>
<p>Check your system's standard config directory:</p>
<ul>
<li>Linux: <code>~/.config/cgip/config.toml</code></li>
<li>macOS: <code>~/Library/Application Support/cgip/config.toml</code> or <code>~/.config/cgip/config.toml</code></li>
</ul>
<h2 id="best-practices-4"><a class="header" href="#best-practices-4">Best Practices</a></h2>
<h3 id="start-with-essentials"><a class="header" href="#start-with-essentials">Start with Essentials</a></h3>
<p>Set up the most important settings first:</p>
<pre><code class="language-sh">cgip config --set model=gpt-4o
cgip config --set system_prompt="Be concise and technical"
</code></pre>
<h3 id="use-descriptive-system-prompts"><a class="header" href="#use-descriptive-system-prompts">Use Descriptive System Prompts</a></h3>
<p>Create system prompts that clearly define the AI's role:</p>
<pre><code class="language-sh">cgip config --set system_prompt="You are a senior software engineer specializing in Python and web development. Provide practical, production-ready solutions."
</code></pre>
<h3 id="test-your-configuration"><a class="header" href="#test-your-configuration">Test Your Configuration</a></h3>
<p>After setting up configuration, test it:</p>
<pre><code class="language-sh">cgip "Hello, test my configuration"
</code></pre>
<h3 id="back-up-your-configuration"><a class="header" href="#back-up-your-configuration">Back Up Your Configuration</a></h3>
<p>Since configuration improves your workflow, consider backing up your config file:</p>
<pre><code class="language-sh">cp ~/.config/cgip/config.toml ~/backups/cgip-config-backup.toml
</code></pre>
<h2 id="next-steps-6"><a class="header" href="#next-steps-6">Next Steps</a></h2>
<ul>
<li>Learn about <a href="./environment-variables.html">environment variables</a> for temporary overrides</li>
<li>Explore <a href="./advanced-usage.html">advanced usage</a> patterns with your configured defaults</li>
<li>Try <a href="./supported-models.html">different models</a> to find what works best for your use cases</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="session-command"><a class="header" href="#session-command">Session Command</a></h1>
<p>The <code>session</code> subcommand provides tools for managing your current conversation session. It allows you to view, clear, and manage the context that Chat Gipitty maintains between interactions.</p>
<h2 id="overview-2"><a class="header" href="#overview-2">Overview</a></h2>
<p>Sessions in Chat Gipitty store conversation history to enable continuous, contextual conversations. The session command gives you control over this stored context.</p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<pre><code class="language-bash">cgip session [OPTIONS]
</code></pre>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<h3 id="--view--v"><a class="header" href="#--view--v"><code>--view, -v</code></a></h3>
<p>View the current session context, showing all stored messages.</p>
<pre><code class="language-bash">cgip session --view
</code></pre>
<p>This displays:</p>
<ul>
<li>All user messages from the session</li>
<li>All assistant responses</li>
<li>The total number of messages</li>
<li>Session metadata (name, creation time, etc.)</li>
</ul>
<h3 id="--clear--c"><a class="header" href="#--clear--c"><code>--clear, -c</code></a></h3>
<p>Clear all stored context from the current session.</p>
<pre><code class="language-bash">cgip session --clear
</code></pre>
<p>This removes all conversation history while keeping the session name active for future interactions.</p>
<h2 id="examples-1"><a class="header" href="#examples-1">Examples</a></h2>
<h3 id="viewing-session-content"><a class="header" href="#viewing-session-content">Viewing Session Content</a></h3>
<pre><code class="language-bash"># Check what's in your current session
cgip session --view
</code></pre>
<p>Example output:</p>
<pre><code>Session: my-coding-session (5 messages)
Created: 2024-01-15 10:30:00

[User] I'm working on a Rust web API
[Assistant] That's great! Rust is excellent for web APIs due to its performance and safety...

[User] How should I handle authentication?
[Assistant] For authentication in a Rust web API, you have several good options...

[User] Can you show me an example with JWT?
[Assistant] Here's a practical example of JWT authentication in Rust...
</code></pre>
<h3 id="clearing-session-history"><a class="header" href="#clearing-session-history">Clearing Session History</a></h3>
<pre><code class="language-bash"># Clear current session to start fresh
cgip session --clear
</code></pre>
<p>Example output:</p>
<pre><code>Session 'my-coding-session' cleared successfully.
</code></pre>
<h3 id="checking-session-status"><a class="header" href="#checking-session-status">Checking Session Status</a></h3>
<pre><code class="language-bash"># View current session (will show empty if no context)
cgip session --view
</code></pre>
<p>If no session is active:</p>
<pre><code>No active session. Set CGIP_SESSION_NAME to enable sessions.
</code></pre>
<h2 id="session-workflow"><a class="header" href="#session-workflow">Session Workflow</a></h2>
<h3 id="typical-session-management-workflow"><a class="header" href="#typical-session-management-workflow">Typical Session Management Workflow</a></h3>
<ol>
<li>
<p><strong>Start a session</strong> by setting the session name:</p>
<pre><code class="language-bash">export CGIP_SESSION_NAME="debugging-session"
</code></pre>
</li>
<li>
<p><strong>Have conversations</strong> with Chat Gipitty:</p>
<pre><code class="language-bash">cgip "I'm having issues with my React component"
cgip "The error says 'Cannot read property of undefined'"
</code></pre>
</li>
<li>
<p><strong>Check session context</strong> when needed:</p>
<pre><code class="language-bash">cgip session --view
</code></pre>
</li>
<li>
<p><strong>Clear session</strong> when context becomes irrelevant:</p>
<pre><code class="language-bash">cgip session --clear
</code></pre>
</li>
</ol>
<h2 id="when-to-use-session-commands"><a class="header" href="#when-to-use-session-commands">When to Use Session Commands</a></h2>
<h3 id="view-session---view"><a class="header" href="#view-session---view">View Session (<code>--view</code>)</a></h3>
<p>Use when you want to:</p>
<ul>
<li>See what context will be included in your next query</li>
<li>Debug why the model's responses seem off-topic</li>
<li>Review the conversation history</li>
<li>Check if sensitive information is stored</li>
<li>Understand how much context has accumulated</li>
</ul>
<h3 id="clear-session---clear"><a class="header" href="#clear-session---clear">Clear Session (<code>--clear</code>)</a></h3>
<p>Use when you need to:</p>
<ul>
<li>Start a completely new topic</li>
<li>Remove irrelevant or confusing context</li>
<li>Clear sensitive information from the session</li>
<li>Reset after the context has become too long</li>
<li>Fix issues where the model seems confused</li>
</ul>
<h2 id="integration-with-other-commands"><a class="header" href="#integration-with-other-commands">Integration with Other Commands</a></h2>
<h3 id="session-aware-queries"><a class="header" href="#session-aware-queries">Session-Aware Queries</a></h3>
<p>All regular Chat Gipitty commands use session context:</p>
<pre><code class="language-bash"># First query establishes context
cgip "I'm learning Rust ownership concepts"

# Later queries build on this context
cgip "Can you give me an example of borrowing?"
cgip "What about mutable references?"

# Check what context is being used
cgip session --view
</code></pre>
<h3 id="bypassing-sessions"><a class="header" href="#bypassing-sessions">Bypassing Sessions</a></h3>
<p>Use <code>--no-session</code> to ignore session context:</p>
<pre><code class="language-bash"># This won't add to or use session context
cgip --no-session "What's the weather like?" 

# Session context remains unchanged
cgip session --view  # Still shows previous Rust discussion
</code></pre>
<h2 id="session-information-display"><a class="header" href="#session-information-display">Session Information Display</a></h2>
<p>When viewing sessions, you'll see:</p>
<h3 id="message-count"><a class="header" href="#message-count">Message Count</a></h3>
<p>The total number of messages (user + assistant) stored.</p>
<h3 id="session-name"><a class="header" href="#session-name">Session Name</a></h3>
<p>The current <code>CGIP_SESSION_NAME</code> value.</p>
<h3 id="creation-time"><a class="header" href="#creation-time">Creation Time</a></h3>
<p>When the session was first created.</p>
<h3 id="message-history"><a class="header" href="#message-history">Message History</a></h3>
<p>All user questions and assistant responses in chronological order.</p>
<h3 id="context-size"><a class="header" href="#context-size">Context Size</a></h3>
<p>Indication of how much context is being stored (useful for token management).</p>
<h2 id="best-practices-5"><a class="header" href="#best-practices-5">Best Practices</a></h2>
<h3 id="regular-session-maintenance"><a class="header" href="#regular-session-maintenance">Regular Session Maintenance</a></h3>
<pre><code class="language-bash"># Check session size periodically
cgip session --view | head -1

# Clear when context becomes too large or irrelevant
cgip session --clear
</code></pre>
<h3 id="topic-transitions"><a class="header" href="#topic-transitions">Topic Transitions</a></h3>
<pre><code class="language-bash"># Before switching topics, check current context
cgip session --view

# Clear if the new topic is unrelated
cgip session --clear

# Then start the new topic
cgip "Now I want to learn about Docker containers"
</code></pre>
<h3 id="debugging-with-session-commands"><a class="header" href="#debugging-with-session-commands">Debugging with Session Commands</a></h3>
<pre><code class="language-bash"># If responses seem off-topic, check session context
cgip session --view

# Clear and retry if context is confusing
cgip session --clear
cgip "Let me rephrase my question..."
</code></pre>
<h2 id="error-handling-1"><a class="header" href="#error-handling-1">Error Handling</a></h2>
<h3 id="no-session-active"><a class="header" href="#no-session-active">No Session Active</a></h3>
<pre><code class="language-bash">cgip session --view
# Output: No active session. Set CGIP_SESSION_NAME to enable sessions.
</code></pre>
<p>Solution:</p>
<pre><code class="language-bash">export CGIP_SESSION_NAME="my-session"
cgip session --view
</code></pre>
<h3 id="empty-session"><a class="header" href="#empty-session">Empty Session</a></h3>
<pre><code class="language-bash">cgip session --view
# Output: Session 'my-session' is empty.
</code></pre>
<p>This is normal for new sessions or after clearing.</p>
<h3 id="permission-issues"><a class="header" href="#permission-issues">Permission Issues</a></h3>
<p>If you get permission errors, check session storage directory:</p>
<pre><code class="language-bash"># Linux/macOS
ls -la ~/.config/cgip/sessions/
ls -la ~/Library/Application\ Support/cgip/sessions/
</code></pre>
<h2 id="advanced-usage"><a class="header" href="#advanced-usage">Advanced Usage</a></h2>
<h3 id="scripting-with-session-commands"><a class="header" href="#scripting-with-session-commands">Scripting with Session Commands</a></h3>
<pre><code class="language-bash">#!/bin/bash
# Script to manage coding sessions

# Check if session has too many messages
MESSAGE_COUNT=$(cgip session --view | grep -o '[0-9]* messages' | cut -d' ' -f1)

if [ "$MESSAGE_COUNT" -gt 20 ]; then
    echo "Session has $MESSAGE_COUNT messages, clearing..."
    cgip session --clear
fi
</code></pre>
<h3 id="session-inspection"><a class="header" href="#session-inspection">Session Inspection</a></h3>
<pre><code class="language-bash"># Get session info for debugging
cgip session --view &gt; session_dump.txt

# Analyze session content
grep "User\]" session_dump.txt | wc -l  # Count user messages
grep "Assistant\]" session_dump.txt | wc -l  # Count assistant messages
</code></pre>
<h3 id="conditional-session-management-1"><a class="header" href="#conditional-session-management-1">Conditional Session Management</a></h3>
<pre><code class="language-bash"># Clear session if working directory changes
CURRENT_PROJECT=$(basename $PWD)
if [[ "$LAST_PROJECT" != "$CURRENT_PROJECT" ]]; then
    cgip session --clear
    export LAST_PROJECT="$CURRENT_PROJECT"
fi
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="image-command"><a class="header" href="#image-command">Image Command</a></h1>
<p>The <code>image</code> command allows you to analyze images using OpenAI's vision-capable models (like GPT-4o). This feature enables you to ask questions about images, extract text from images, describe visual content, and more.</p>
<h2 id="overview-3"><a class="header" href="#overview-3">Overview</a></h2>
<p>The image subcommand automatically ensures you're using a vision-capable model and will switch to <code>gpt-4o</code> if your current model doesn't support vision. It supports multiple image formats and provides flexible prompting options.</p>
<h2 id="basic-usage-4"><a class="header" href="#basic-usage-4">Basic Usage</a></h2>
<pre><code class="language-sh">cgip image --file photo.jpg "What do you see in this image?"
</code></pre>
<h2 id="command-help-2"><a class="header" href="#command-help-2">Command Help</a></h2>
<pre><code>Analyze an image using vision models. Use --file to specify the image path

Usage: cgip image [OPTIONS] --file &lt;FILE&gt; [PROMPT]

Arguments:
  [PROMPT]  Additional prompt text to include with the image analysis

Options:
  -f, --file &lt;FILE&gt;              Path to the image file to analyze
  -m, --max-tokens &lt;MAX_TOKENS&gt;  Maximum number of tokens in the response [default: 300]
  -h, --help                     Print help
  -V, --version                  Print version
</code></pre>
<h2 id="supported-image-formats"><a class="header" href="#supported-image-formats">Supported Image Formats</a></h2>
<p>The image command supports the following formats:</p>
<ul>
<li><strong>JPEG</strong> (.jpg, .jpeg)</li>
<li><strong>PNG</strong> (.png)</li>
<li><strong>GIF</strong> (.gif)</li>
<li><strong>WebP</strong> (.webp)</li>
</ul>
<h2 id="basic-examples"><a class="header" href="#basic-examples">Basic Examples</a></h2>
<h3 id="simple-image-description"><a class="header" href="#simple-image-description">Simple Image Description</a></h3>
<pre><code class="language-sh">cgip image --file photo.jpg
# Uses default prompt: "What is in this image?"
</code></pre>
<h3 id="custom-analysis-prompt"><a class="header" href="#custom-analysis-prompt">Custom Analysis Prompt</a></h3>
<pre><code class="language-sh">cgip image --file screenshot.png "Extract all text from this image"
</code></pre>
<h3 id="detailed-analysis"><a class="header" href="#detailed-analysis">Detailed Analysis</a></h3>
<pre><code class="language-sh">cgip image --file diagram.jpg "Explain this diagram in detail" --max-tokens 500
</code></pre>
<h2 id="common-use-cases"><a class="header" href="#common-use-cases">Common Use Cases</a></h2>
<h3 id="text-extraction-ocr"><a class="header" href="#text-extraction-ocr">Text Extraction (OCR)</a></h3>
<p>Extract text from screenshots, documents, or signs:</p>
<pre><code class="language-sh">cgip image --file receipt.jpg "Extract all text from this receipt and format it as a list"
</code></pre>
<pre><code class="language-sh">cgip image --file whiteboard.png "What does the text on this whiteboard say?"
</code></pre>
<h3 id="document-analysis"><a class="header" href="#document-analysis">Document Analysis</a></h3>
<p>Analyze documents, receipts, forms, and other text-heavy images:</p>
<pre><code class="language-sh">cgip image --file receipt.jpg "What items are on this receipt and what's the total?"
</code></pre>
<pre><code class="language-sh">cgip image --file form.png "Help me fill out this form - what information is required?"
</code></pre>
<h3 id="code-analysis-1"><a class="header" href="#code-analysis-1">Code Analysis</a></h3>
<p>Analyze screenshots of code or development environments:</p>
<pre><code class="language-sh">cgip image --file code_screenshot.png "What does this code do? Are there any potential issues?"
</code></pre>
<pre><code class="language-sh">cgip image --file error_screen.png "What error is shown here and how can I fix it?"
</code></pre>
<h3 id="visual-content-description"><a class="header" href="#visual-content-description">Visual Content Description</a></h3>
<p>Describe photos, artwork, charts, and other visual content:</p>
<pre><code class="language-sh">cgip image --file chart.png "Describe the data shown in this chart"
</code></pre>
<pre><code class="language-sh">cgip image --file artwork.jpg "Describe the style and composition of this artwork"
</code></pre>
<h3 id="technical-diagrams"><a class="header" href="#technical-diagrams">Technical Diagrams</a></h3>
<p>Analyze technical diagrams, flowcharts, and system architectures:</p>
<pre><code class="language-sh">cgip image --file architecture.png "Explain this system architecture diagram"
</code></pre>
<pre><code class="language-sh">cgip image --file flowchart.jpg "Walk me through this process flowchart"
</code></pre>
<h2 id="advanced-usage-1"><a class="header" href="#advanced-usage-1">Advanced Usage</a></h2>
<h3 id="combining-with-other-commands"><a class="header" href="#combining-with-other-commands">Combining with Other Commands</a></h3>
<p>Process image analysis results with other tools:</p>
<pre><code class="language-sh"># Save analysis to file
cgip image --file diagram.png "Explain this" --max-tokens 1000 &gt; analysis.txt

# Convert analysis to speech
cgip image --file chart.jpg "Describe this data" | cgip tts --voice nova
</code></pre>
<h3 id="multiple-images-workflow"><a class="header" href="#multiple-images-workflow">Multiple Images Workflow</a></h3>
<p>While the command handles one image at a time, you can process multiple images:</p>
<pre><code class="language-sh"># Process multiple screenshots
for img in screenshots/*.png; do
    echo "=== Analyzing $img ==="
    cgip image --file "$img" "What error or issue is shown here?"
done
</code></pre>
<h3 id="context-aware-analysis"><a class="header" href="#context-aware-analysis">Context-Aware Analysis</a></h3>
<p>Combine image analysis with additional context:</p>
<pre><code class="language-sh"># Analyze error with additional context
cgip image --file error.png "Given that this is a React application, what's causing this error?"
</code></pre>
<h2 id="response-length-control"><a class="header" href="#response-length-control">Response Length Control</a></h2>
<h3 id="default-token-limit"><a class="header" href="#default-token-limit">Default Token Limit</a></h3>
<p>The default max-tokens is 300, suitable for brief descriptions:</p>
<pre><code class="language-sh">cgip image --file photo.jpg "Briefly describe this image"
</code></pre>
<h3 id="extended-analysis"><a class="header" href="#extended-analysis">Extended Analysis</a></h3>
<p>For detailed analysis, increase the token limit:</p>
<pre><code class="language-sh">cgip image --file complex_diagram.png "Provide a comprehensive analysis" --max-tokens 1000
</code></pre>
<h3 id="concise-responses"><a class="header" href="#concise-responses">Concise Responses</a></h3>
<p>For very brief responses, use focused prompts:</p>
<pre><code class="language-sh">cgip image --file text.png "Extract only the main heading" --max-tokens 50
</code></pre>
<h2 id="model-selection-1"><a class="header" href="#model-selection-1">Model Selection</a></h2>
<h3 id="automatic-model-selection"><a class="header" href="#automatic-model-selection">Automatic Model Selection</a></h3>
<p>The image command automatically uses vision-capable models:</p>
<ul>
<li>If your configured model supports vision, it uses that model</li>
<li>If your configured model doesn't support vision, it switches to <code>gpt-4o</code></li>
</ul>
<h3 id="supported-vision-models"><a class="header" href="#supported-vision-models">Supported Vision Models</a></h3>
<p>Currently supported vision-capable models include:</p>
<ul>
<li><code>gpt-4o</code></li>
<li><code>gpt-4-vision-preview</code></li>
<li><code>gpt-4-turbo</code></li>
<li><code>gpt-4</code></li>
</ul>
<h3 id="checking-your-model"><a class="header" href="#checking-your-model">Checking Your Model</a></h3>
<p>Verify your current model configuration:</p>
<pre><code class="language-sh">cgip config --get model
</code></pre>
<p>Set a vision-capable model as default:</p>
<pre><code class="language-sh">cgip config --set model=gpt-4o
</code></pre>
<h2 id="image-processing-details"><a class="header" href="#image-processing-details">Image Processing Details</a></h2>
<h3 id="automatic-processing"><a class="header" href="#automatic-processing">Automatic Processing</a></h3>
<p>Images are automatically:</p>
<ol>
<li>Read from the file system</li>
<li>Encoded as base64</li>
<li>Sent to the API with appropriate MIME type based on file extension</li>
<li>Combined with your text prompt for analysis</li>
</ol>
<h3 id="file-size-considerations"><a class="header" href="#file-size-considerations">File Size Considerations</a></h3>
<ul>
<li>Large images may take longer to process</li>
<li>Very large images might hit API limits</li>
<li>Consider resizing extremely large images for better performance</li>
</ul>
<h3 id="quality-recommendations"><a class="header" href="#quality-recommendations">Quality Recommendations</a></h3>
<ul>
<li>Higher resolution images generally produce better analysis</li>
<li>Ensure text in images is clearly readable</li>
<li>Good lighting and contrast improve results</li>
</ul>
<h2 id="error-handling-2"><a class="header" href="#error-handling-2">Error Handling</a></h2>
<h3 id="common-issues-and-solutions"><a class="header" href="#common-issues-and-solutions">Common Issues and Solutions</a></h3>
<p><strong>File not found:</strong></p>
<pre><code class="language-sh">cgip image --file nonexistent.jpg "analyze this"
# Error: No such file or directory
</code></pre>
<p>Check the file path and ensure the file exists.</p>
<p><strong>Unsupported format:</strong></p>
<pre><code class="language-sh">cgip image --file document.pdf "analyze this"
# May not work - PDF is not a supported image format
</code></pre>
<p>Convert PDFs to images first or use supported formats.</p>
<p><strong>Network errors:</strong>
Check your API key and network connection.</p>
<p><strong>Model not available:</strong>
Ensure you have access to vision-capable models in your API account.</p>
<h2 id="best-practices-6"><a class="header" href="#best-practices-6">Best Practices</a></h2>
<h3 id="prompt-engineering"><a class="header" href="#prompt-engineering">Prompt Engineering</a></h3>
<p><strong>Be specific about what you want:</strong></p>
<pre><code class="language-sh"># Good
cgip image --file chart.png "What are the main trends shown in this sales data chart?"

# Less effective
cgip image --file chart.png "What is this?"
</code></pre>
<p><strong>Ask for structured output when needed:</strong></p>
<pre><code class="language-sh">cgip image --file receipt.png "Extract the items and prices as a formatted list"
</code></pre>
<h3 id="image-quality"><a class="header" href="#image-quality">Image Quality</a></h3>
<ul>
<li>Use clear, well-lit images</li>
<li>Ensure text is readable</li>
<li>Avoid blurry or low-contrast images</li>
</ul>
<h3 id="token-management"><a class="header" href="#token-management">Token Management</a></h3>
<ul>
<li>Use appropriate max-tokens for your needs</li>
<li>Brief descriptions: 100-300 tokens</li>
<li>Detailed analysis: 500-1000 tokens</li>
<li>Comprehensive reports: 1000+ tokens</li>
</ul>
<h3 id="cost-considerations"><a class="header" href="#cost-considerations">Cost Considerations</a></h3>
<p>Vision requests consume more tokens than text-only requests:</p>
<ul>
<li>Monitor your usage</li>
<li>Use appropriate token limits</li>
<li>Consider image size and complexity</li>
</ul>
<h2 id="troubleshooting-3"><a class="header" href="#troubleshooting-3">Troubleshooting</a></h2>
<h3 id="image-not-loading"><a class="header" href="#image-not-loading">Image Not Loading</a></h3>
<p>Check file permissions and path:</p>
<pre><code class="language-sh">ls -la path/to/image.jpg
</code></pre>
<h3 id="poor-analysis-quality"><a class="header" href="#poor-analysis-quality">Poor Analysis Quality</a></h3>
<ul>
<li>Try a more specific prompt</li>
<li>Ensure image quality is good</li>
<li>Increase max-tokens for more detailed responses</li>
</ul>
<h3 id="model-errors"><a class="header" href="#model-errors">Model Errors</a></h3>
<p>If you get model-related errors:</p>
<pre><code class="language-sh"># Check current model
cgip config --get model

# Set to a known vision model
cgip config --set model=gpt-4o
</code></pre>
<h2 id="integration-examples"><a class="header" href="#integration-examples">Integration Examples</a></h2>
<h3 id="development-workflow"><a class="header" href="#development-workflow">Development Workflow</a></h3>
<pre><code class="language-sh"># Analyze UI mockups
cgip image --file mockup.png "What UI elements are shown and how should they be implemented?"

# Debug visual issues
cgip image --file bug_screenshot.png "What's wrong with this UI layout?"
</code></pre>
<h3 id="documentation"><a class="header" href="#documentation">Documentation</a></h3>
<pre><code class="language-sh"># Generate image descriptions for documentation
cgip image --file feature_screenshot.png "Write a caption for this screenshot" --max-tokens 100
</code></pre>
<h3 id="data-analysis-1"><a class="header" href="#data-analysis-1">Data Analysis</a></h3>
<pre><code class="language-sh"># Analyze charts and graphs
cgip image --file sales_chart.png "What insights can you derive from this sales data?"
</code></pre>
<h2 id="next-steps-7"><a class="header" href="#next-steps-7">Next Steps</a></h2>
<ul>
<li>Learn about <a href="./tts-command.html">TTS command</a> to convert image analysis to speech</li>
<li>Explore <a href="./agent-command.html">agent command</a> for automated workflows involving images</li>
<li>Try <a href="./examples.html">combining with other features</a> for powerful multi-modal workflows</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tts-command"><a class="header" href="#tts-command">TTS Command</a></h1>
<p>The <code>tts</code> command allows you to convert text to speech using OpenAI's Text-to-Speech models. This feature enables you to generate high-quality audio from text input with various voice options and customization settings.</p>
<h2 id="overview-4"><a class="header" href="#overview-4">Overview</a></h2>
<p>The TTS subcommand reads text from command arguments, stdin, or both. When both are provided, it combines the stdin text with the argument text (stdin first, then argument), making it easy to pipe content from other commands and add additional text.</p>
<h2 id="basic-usage-5"><a class="header" href="#basic-usage-5">Basic Usage</a></h2>
<pre><code class="language-sh">cgip tts "Hello, this is a test of text-to-speech functionality"
</code></pre>
<h2 id="command-help-3"><a class="header" href="#command-help-3">Command Help</a></h2>
<pre><code>Convert text to speech using OpenAI's TTS models

Usage: cgip tts [OPTIONS] [TEXT]

Arguments:
  [TEXT]  Text to convert to speech. If not provided, reads from stdin

Options:
  -m, --model &lt;MODEL&gt;                TTS model to use [default: tts-1]
  -v, --voice &lt;VOICE&gt;                Voice to use for speech synthesis [default: alloy]
  -o, --output &lt;OUTPUT&gt;              Output file path for the audio [default: speech.mp3]
  -i, --instructions &lt;INSTRUCTIONS&gt;  Instructions for the voice (how to speak)
  -f, --format &lt;FORMAT&gt;              Audio format (mp3, opus, aac, flac) [default: mp3]
  -s, --speed &lt;SPEED&gt;                Speed of speech (0.25 to 4.0) [default: 1.0]
  -h, --help                         Print help
  -V, --version                      Print version
</code></pre>
<h2 id="available-options"><a class="header" href="#available-options">Available Options</a></h2>
<h3 id="models"><a class="header" href="#models">Models</a></h3>
<ul>
<li><strong>tts-1</strong>: Standard quality, faster generation</li>
<li><strong>tts-1-hd</strong>: High definition quality, slower generation</li>
</ul>
<h3 id="voices"><a class="header" href="#voices">Voices</a></h3>
<ul>
<li><strong>alloy</strong>: Neutral, balanced voice</li>
<li><strong>echo</strong>: Male voice with clear pronunciation</li>
<li><strong>fable</strong>: British accent, expressive</li>
<li><strong>onyx</strong>: Deep, authoritative voice</li>
<li><strong>nova</strong>: Young, energetic voice</li>
<li><strong>shimmer</strong>: Soft, gentle voice</li>
</ul>
<h3 id="audio-formats"><a class="header" href="#audio-formats">Audio Formats</a></h3>
<ul>
<li><strong>MP3</strong> (.mp3): Most compatible, good compression</li>
<li><strong>OPUS</strong> (.opus): Excellent compression, modern codec</li>
<li><strong>AAC</strong> (.aac): Good quality and compression, widely supported</li>
<li><strong>FLAC</strong> (.flac): Lossless compression, larger file size</li>
</ul>
<h3 id="speed-settings"><a class="header" href="#speed-settings">Speed Settings</a></h3>
<ul>
<li><code>0.25</code>: Very slow, good for learning or accessibility</li>
<li><code>0.5</code>: Slow, clear pronunciation</li>
<li><code>1.0</code>: Normal speed (default)</li>
<li><code>1.5</code>: Slightly faster, efficient listening</li>
<li><code>2.0</code>: Fast, good for familiar content</li>
<li><code>4.0</code>: Very fast, maximum speed</li>
</ul>
<h2 id="basic-examples-1"><a class="header" href="#basic-examples-1">Basic Examples</a></h2>
<h3 id="simple-text-to-speech"><a class="header" href="#simple-text-to-speech">Simple Text to Speech</a></h3>
<pre><code class="language-sh">cgip tts "Welcome to our application!"
</code></pre>
<h3 id="custom-voice-and-output"><a class="header" href="#custom-voice-and-output">Custom Voice and Output</a></h3>
<pre><code class="language-sh">cgip tts --voice nova --output welcome.mp3 "Welcome to our application!"
</code></pre>
<h3 id="high-definition-model"><a class="header" href="#high-definition-model">High-Definition Model</a></h3>
<pre><code class="language-sh">cgip tts --model tts-1-hd --speed 0.8 --voice shimmer "This is spoken slowly and clearly"
</code></pre>
<h2 id="input-handling"><a class="header" href="#input-handling">Input Handling</a></h2>
<p>The TTS command handles text input in the following priority:</p>
<ol>
<li><strong>Text argument only</strong>: Uses the provided text argument</li>
<li><strong>Stdin only</strong>: Uses text from stdin (when no text argument is provided)</li>
<li><strong>Both stdin and text argument</strong>: Combines stdin text with argument text (stdin first, then argument)</li>
<li><strong>Neither</strong>: Shows error message</li>
</ol>
<h3 id="reading-from-stdin"><a class="header" href="#reading-from-stdin">Reading from Stdin</a></h3>
<pre><code class="language-sh">echo "This text comes from stdin" | cgip tts --voice echo --output stdin_speech.mp3
</code></pre>
<h3 id="combining-stdin-and-argument"><a class="header" href="#combining-stdin-and-argument">Combining Stdin and Argument</a></h3>
<pre><code class="language-sh"># Combines both inputs
hostname | cgip tts "and that's all she wrote" --output combined.mp3
# Result: "Hello from hostname" + "and that's all she wrote"
</code></pre>
<h3 id="reading-from-files"><a class="header" href="#reading-from-files">Reading from Files</a></h3>
<pre><code class="language-sh">cat announcement.txt | cgip tts --voice fable --output announcement.mp3
</code></pre>
<h2 id="voice-characteristics"><a class="header" href="#voice-characteristics">Voice Characteristics</a></h2>
<h3 id="alloy"><a class="header" href="#alloy">alloy</a></h3>
<ul>
<li>Neutral and versatile</li>
<li>Works well for most content types</li>
<li>Balanced tone and pace</li>
</ul>
<h3 id="echo"><a class="header" href="#echo">echo</a></h3>
<ul>
<li>Clear male voice</li>
<li>Good for professional content</li>
<li>Authoritative but approachable</li>
</ul>
<h3 id="fable"><a class="header" href="#fable">fable</a></h3>
<ul>
<li>British accent</li>
<li>Expressive and engaging</li>
<li>Good for storytelling</li>
</ul>
<h3 id="onyx"><a class="header" href="#onyx">onyx</a></h3>
<ul>
<li>Deep male voice</li>
<li>Authoritative and confident</li>
<li>Professional presentations</li>
</ul>
<h3 id="nova"><a class="header" href="#nova">nova</a></h3>
<ul>
<li>Young and energetic</li>
<li>Good for casual content</li>
<li>Upbeat and friendly</li>
</ul>
<h3 id="shimmer"><a class="header" href="#shimmer">shimmer</a></h3>
<ul>
<li>Soft and gentle</li>
<li>Good for calming content</li>
<li>Soothing and peaceful</li>
</ul>
<h2 id="audio-format-details"><a class="header" href="#audio-format-details">Audio Format Details</a></h2>
<h3 id="mp3"><a class="header" href="#mp3">MP3</a></h3>
<ul>
<li>Most widely supported format</li>
<li>Good balance of quality and file size</li>
<li>Compatible with virtually all devices</li>
</ul>
<h3 id="opus"><a class="header" href="#opus">OPUS</a></h3>
<ul>
<li>Modern, efficient codec</li>
<li>Excellent compression</li>
<li>Smaller file sizes than MP3</li>
<li>Good for web applications</li>
</ul>
<h3 id="aac"><a class="header" href="#aac">AAC</a></h3>
<ul>
<li>High quality audio</li>
<li>Good compression</li>
<li>Widely supported by modern devices</li>
<li>Apple ecosystem preferred format</li>
</ul>
<h3 id="flac"><a class="header" href="#flac">FLAC</a></h3>
<ul>
<li>Lossless compression</li>
<li>Highest audio quality</li>
<li>Larger file sizes</li>
<li>Good for archival purposes</li>
</ul>
<h2 id="advanced-usage-2"><a class="header" href="#advanced-usage-2">Advanced Usage</a></h2>
<h3 id="custom-instructions"><a class="header" href="#custom-instructions">Custom Instructions</a></h3>
<pre><code class="language-sh">cgip tts --instructions "Speak in a cheerful and enthusiastic tone" "Today is a wonderful day!"
</code></pre>
<h3 id="speed-adjustments"><a class="header" href="#speed-adjustments">Speed Adjustments</a></h3>
<pre><code class="language-sh"># Slow for learning
cgip tts --speed 0.5 --voice onyx "Technical explanation spoken slowly"

# Fast for quick review
cgip tts --speed 1.5 --voice nova "Quick summary of key points"

# Very fast for familiar content
cgip tts --speed 2.0 "Content you want to review quickly"
</code></pre>
<h3 id="different-formats-for-different-uses"><a class="header" href="#different-formats-for-different-uses">Different Formats for Different Uses</a></h3>
<pre><code class="language-sh"># High quality for archival
cgip tts --format flac --output archive.flac "Important announcement"

# Compressed for web
cgip tts --format opus --output web.opus "Website audio content"

# Compatible for sharing
cgip tts --format mp3 --output share.mp3 "Content to share widely"
</code></pre>
<h2 id="common-workflows"><a class="header" href="#common-workflows">Common Workflows</a></h2>
<h3 id="documentation-to-audio"><a class="header" href="#documentation-to-audio">Documentation to Audio</a></h3>
<pre><code class="language-sh"># Convert README to audio
cat README.md | cgip tts --voice fable --output readme_audio.mp3
</code></pre>
<h3 id="code-comments-to-audio"><a class="header" href="#code-comments-to-audio">Code Comments to Audio</a></h3>
<pre><code class="language-sh"># Extract and vocalize code comments
grep -n "#" script.py | cgip tts --voice echo --output code_comments.mp3
</code></pre>
<h3 id="email-or-message-reading"><a class="header" href="#email-or-message-reading">Email or Message Reading</a></h3>
<pre><code class="language-sh"># Read important messages aloud
cat important_email.txt | cgip tts --voice alloy --speed 0.8
</code></pre>
<h3 id="multilingual-content"><a class="header" href="#multilingual-content">Multilingual Content</a></h3>
<pre><code class="language-sh"># TTS works with multiple languages
cgip tts --voice nova "Bonjour, comment allez-vous?"
</code></pre>
<h3 id="batch-processing"><a class="header" href="#batch-processing">Batch Processing</a></h3>
<pre><code class="language-sh"># Process multiple text files
for file in *.txt; do
    cgip tts --voice alloy --output "${file%.txt}.mp3" &lt; "$file"
done
</code></pre>
<h2 id="integration-with-other-commands-1"><a class="header" href="#integration-with-other-commands-1">Integration with Other Commands</a></h2>
<h3 id="combining-with-chat-gipitty"><a class="header" href="#combining-with-chat-gipitty">Combining with Chat GipiTTY</a></h3>
<pre><code class="language-sh"># Generate text and convert to speech
cgip "Write a short story about a robot" | cgip tts --voice fable --output story.mp3

# Analyze code and speak the explanation
cgip "explain this function" -f script.py | cgip tts --voice echo
</code></pre>
<h3 id="pipeline-processing"><a class="header" href="#pipeline-processing">Pipeline Processing</a></h3>
<pre><code class="language-sh"># Process data and create audio summary
cat data.csv | cgip "summarize this data" | cgip tts --voice nova --output summary.mp3
</code></pre>
<h3 id="system-integration"><a class="header" href="#system-integration">System Integration</a></h3>
<pre><code class="language-sh"># Create audio notifications
echo "Build completed successfully" | cgip tts --voice alloy --output notification.mp3
play notification.mp3
</code></pre>
<h2 id="error-handling-3"><a class="header" href="#error-handling-3">Error Handling</a></h2>
<h3 id="common-issues-1"><a class="header" href="#common-issues-1">Common Issues</a></h3>
<p><strong>No text provided:</strong></p>
<pre><code>Error: No text provided via argument or stdin
</code></pre>
<p>Solution: Provide text via argument or pipe it through stdin.</p>
<p><strong>Invalid speed value:</strong></p>
<pre><code>Error: Speed must be between 0.25 and 4.0
</code></pre>
<p>Solution: Use a speed value within the valid range.</p>
<p><strong>Invalid audio format:</strong></p>
<pre><code>Error: Unsupported format. Use: mp3, opus, aac, flac
</code></pre>
<p>Solution: Use one of the supported audio formats.</p>
<p><strong>API errors:</strong>
Check your API key and network connection.</p>
<h2 id="best-practices-7"><a class="header" href="#best-practices-7">Best Practices</a></h2>
<h3 id="choose-appropriate-voice"><a class="header" href="#choose-appropriate-voice">Choose Appropriate Voice</a></h3>
<ul>
<li><strong>alloy</strong>: General purpose, neutral content</li>
<li><strong>echo</strong>: Professional, technical content</li>
<li><strong>fable</strong>: Engaging, storytelling content</li>
<li><strong>onyx</strong>: Authoritative, formal content</li>
<li><strong>nova</strong>: Casual, energetic content</li>
<li><strong>shimmer</strong>: Calming, gentle content</li>
</ul>
<h3 id="optimize-speed"><a class="header" href="#optimize-speed">Optimize Speed</a></h3>
<ul>
<li>Use slower speeds (0.5-0.8) for complex or technical content</li>
<li>Use normal speed (1.0) for general content</li>
<li>Use faster speeds (1.2-2.0) for familiar or review content</li>
</ul>
<h3 id="select-appropriate-format"><a class="header" href="#select-appropriate-format">Select Appropriate Format</a></h3>
<ul>
<li><strong>MP3</strong>: General use, sharing, compatibility</li>
<li><strong>OPUS</strong>: Web applications, smaller files</li>
<li><strong>AAC</strong>: Apple devices, streaming</li>
<li><strong>FLAC</strong>: Archival, highest quality</li>
</ul>
<h3 id="use-instructions-effectively"><a class="header" href="#use-instructions-effectively">Use Instructions Effectively</a></h3>
<pre><code class="language-sh"># For technical content
cgip tts --instructions "Speak clearly and pause at technical terms"

# For emotional content
cgip tts --instructions "Speak with appropriate emotion and emphasis"

# For educational content
cgip tts --instructions "Speak slowly and emphasize key points"
</code></pre>
<h2 id="cost-considerations-1"><a class="header" href="#cost-considerations-1">Cost Considerations</a></h2>
<ul>
<li>TTS is charged per character of input text</li>
<li>HD models (tts-1-hd) cost more than standard models (tts-1)</li>
<li>Monitor usage to manage costs</li>
<li>Consider caching frequently used audio files</li>
</ul>
<h2 id="troubleshooting-4"><a class="header" href="#troubleshooting-4">Troubleshooting</a></h2>
<h3 id="audio-quality-issues"><a class="header" href="#audio-quality-issues">Audio Quality Issues</a></h3>
<ul>
<li>Try the HD model: <code>--model tts-1-hd</code></li>
<li>Adjust speed for clarity: <code>--speed 0.8</code></li>
<li>Use appropriate voice for content type</li>
</ul>
<h3 id="file-output-issues"><a class="header" href="#file-output-issues">File Output Issues</a></h3>
<ul>
<li>Check write permissions in output directory</li>
<li>Ensure output path is valid</li>
<li>Verify disk space availability</li>
</ul>
<h3 id="network-issues-1"><a class="header" href="#network-issues-1">Network Issues</a></h3>
<ul>
<li>Check internet connection</li>
<li>Verify API key is set correctly</li>
<li>Check API rate limits</li>
</ul>
<h2 id="environment-requirements"><a class="header" href="#environment-requirements">Environment Requirements</a></h2>
<p>Make sure you have:</p>
<ul>
<li><code>OPENAI_API_KEY</code> environment variable set</li>
<li>Access to OpenAI's TTS models in your account</li>
<li>Sufficient API credits (TTS requests are charged per character)</li>
</ul>
<h2 id="custom-api-endpoints-1"><a class="header" href="#custom-api-endpoints-1">Custom API Endpoints</a></h2>
<p>You can use custom API endpoints:</p>
<pre><code class="language-sh">export OPENAI_BASE_URL=https://your-custom-api.com
cgip tts "Hello world"
</code></pre>
<h2 id="next-steps-8"><a class="header" href="#next-steps-8">Next Steps</a></h2>
<ul>
<li>Learn about <a href="./embedding-command.html">embedding command</a> for text analysis</li>
<li>Explore <a href="./agent-command.html">agent command</a> for automated workflows</li>
<li>Try <a href="./image-command.html">combining with image analysis</a> for multi-modal content</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="embedding-command"><a class="header" href="#embedding-command">Embedding Command</a></h1>
<p>The <code>embedding</code> subcommand generates embedding vectors for text using OpenAI's embedding models. Embeddings are dense numerical representations of text that capture semantic meaning and can be used for similarity search, clustering, and other machine learning tasks.</p>
<h2 id="overview-5"><a class="header" href="#overview-5">Overview</a></h2>
<p>Embeddings convert text into high-dimensional vectors that represent the semantic meaning of the text. Similar texts will have similar embeddings, making them useful for:</p>
<ul>
<li>Semantic search and similarity matching</li>
<li>Text clustering and classification</li>
<li>Recommendation systems</li>
<li>Information retrieval</li>
<li>Machine learning feature vectors</li>
</ul>
<h2 id="usage-1"><a class="header" href="#usage-1">Usage</a></h2>
<pre><code class="language-bash">cgip embedding [OPTIONS] [TEXT]
</code></pre>
<h3 id="arguments"><a class="header" href="#arguments">Arguments</a></h3>
<ul>
<li><code>[TEXT]</code> - Text to generate embeddings for. If not provided, reads from stdin</li>
</ul>
<h3 id="options-1"><a class="header" href="#options-1">Options</a></h3>
<ul>
<li><code>-m, --model &lt;MODEL&gt;</code> - Embedding model to use (default: text-embedding-3-small)</li>
<li><code>-o, --output &lt;OUTPUT&gt;</code> - Output file path. If not set, prints to stdout</li>
</ul>
<h2 id="basic-examples-2"><a class="header" href="#basic-examples-2">Basic Examples</a></h2>
<h3 id="generate-embeddings-for-text"><a class="header" href="#generate-embeddings-for-text">Generate Embeddings for Text</a></h3>
<pre><code class="language-bash"># Basic usage with text argument
cgip embedding "Hello, world!"
</code></pre>
<p>Output:</p>
<pre><code>-0.0123456789, 0.0234567890, -0.0345678901, 0.0456789012, ...
</code></pre>
<h3 id="read-from-stdin"><a class="header" href="#read-from-stdin">Read from stdin</a></h3>
<pre><code class="language-bash"># Pipe text to embedding command
echo "This is example text" | cgip embedding
</code></pre>
<h3 id="save-to-file"><a class="header" href="#save-to-file">Save to File</a></h3>
<pre><code class="language-bash"># Save embedding vector to file
cgip embedding "Important text" --output embedding.txt

# Read from stdin and save to file
echo "Text from stdin" | cgip embedding --output vector.txt
</code></pre>
<h2 id="model-options"><a class="header" href="#model-options">Model Options</a></h2>
<h3 id="available-models"><a class="header" href="#available-models">Available Models</a></h3>
<h4 id="text-embedding-3-small-default"><a class="header" href="#text-embedding-3-small-default">text-embedding-3-small (default)</a></h4>
<ul>
<li><strong>Dimensions</strong>: 1536</li>
<li><strong>Cost</strong>: Lower cost option</li>
<li><strong>Performance</strong>: Good for most use cases</li>
<li><strong>Speed</strong>: Faster processing</li>
</ul>
<pre><code class="language-bash">cgip embedding "sample text" --model text-embedding-3-small
</code></pre>
<h4 id="text-embedding-3-large"><a class="header" href="#text-embedding-3-large">text-embedding-3-large</a></h4>
<ul>
<li><strong>Dimensions</strong>: 3072</li>
<li><strong>Cost</strong>: Higher cost</li>
<li><strong>Performance</strong>: Best accuracy and quality</li>
<li><strong>Speed</strong>: Slower processing</li>
</ul>
<pre><code class="language-bash">cgip embedding "sample text" --model text-embedding-3-large
</code></pre>
<h4 id="text-embedding-ada-002-legacy"><a class="header" href="#text-embedding-ada-002-legacy">text-embedding-ada-002 (legacy)</a></h4>
<ul>
<li><strong>Dimensions</strong>: 1536</li>
<li><strong>Status</strong>: Legacy model, still supported</li>
<li><strong>Note</strong>: Consider upgrading to newer models</li>
</ul>
<pre><code class="language-bash">cgip embedding "sample text" --model text-embedding-ada-002
</code></pre>
<h2 id="advanced-examples"><a class="header" href="#advanced-examples">Advanced Examples</a></h2>
<h3 id="batch-processing-1"><a class="header" href="#batch-processing-1">Batch Processing</a></h3>
<pre><code class="language-bash"># Process multiple texts from a file
cat texts.txt | while read line; do
    echo "$line" | cgip embedding --output "embeddings/$(echo "$line" | tr ' ' '_').txt"
done
</code></pre>
<h3 id="compare-text-similarity"><a class="header" href="#compare-text-similarity">Compare Text Similarity</a></h3>
<pre><code class="language-bash"># Generate embeddings for comparison
cgip embedding "The cat sat on the mat" --output cat_text.txt
cgip embedding "A feline rested on the rug" --output feline_text.txt

# Use external tools to calculate cosine similarity
</code></pre>
<h3 id="document-processing"><a class="header" href="#document-processing">Document Processing</a></h3>
<pre><code class="language-bash"># Process documentation files
for file in docs/*.md; do
    filename=$(basename "$file" .md)
    cgip embedding --output "embeddings/${filename}.vec" -f "$file"
done
</code></pre>
<h3 id="search-index-creation"><a class="header" href="#search-index-creation">Search Index Creation</a></h3>
<pre><code class="language-bash"># Create embeddings for search index
find . -name "*.txt" -exec sh -c '
    filename=$(basename "$1" .txt)
    cgip embedding --output "search_index/${filename}.vec" -f "$1"
' _ {} \;
</code></pre>
<h2 id="input-handling-1"><a class="header" href="#input-handling-1">Input Handling</a></h2>
<p>The embedding command handles input in the following priority:</p>
<ol>
<li><strong>Text argument only</strong>: Uses the provided text argument</li>
<li><strong>Stdin only</strong>: Uses text from stdin (when no text argument is provided)</li>
<li><strong>Both stdin and text argument</strong>: Combines stdin text with argument text</li>
<li><strong>Neither</strong>: Shows error message</li>
</ol>
<h3 id="examples-of-input-combinations"><a class="header" href="#examples-of-input-combinations">Examples of Input Combinations</a></h3>
<pre><code class="language-bash"># Text argument only
cgip embedding "Hello world"

# Stdin only
echo "Hello world" | cgip embedding

# Both (combines stdin + argument)
echo "Hello" | cgip embedding "world"
# Results in embedding for: "Hello world"
</code></pre>
<h2 id="output-formats"><a class="header" href="#output-formats">Output Formats</a></h2>
<h3 id="standard-output-default"><a class="header" href="#standard-output-default">Standard Output (default)</a></h3>
<p>Comma-separated floating point numbers:</p>
<pre><code>-0.012345, 0.023456, -0.034567, 0.045678, ...
</code></pre>
<h3 id="file-output"><a class="header" href="#file-output">File Output</a></h3>
<p>Same format but written to specified file:</p>
<pre><code class="language-bash">cgip embedding "text" --output vector.txt
cat vector.txt
# -0.012345, 0.023456, -0.034567, 0.045678, ...
</code></pre>
<h2 id="integration-examples-1"><a class="header" href="#integration-examples-1">Integration Examples</a></h2>
<h3 id="with-python"><a class="header" href="#with-python">With Python</a></h3>
<pre><code class="language-python"># Process embedding output in Python
import subprocess
import numpy as np

def get_embedding(text):
    result = subprocess.run(
        ['cgip', 'embedding', text], 
        capture_output=True, 
        text=True
    )
    return np.array([float(x.strip()) for x in result.stdout.split(',')])

embedding = get_embedding("Hello world")
print(f"Embedding shape: {embedding.shape}")
</code></pre>
<h3 id="with-shell-scripts"><a class="header" href="#with-shell-scripts">With Shell Scripts</a></h3>
<pre><code class="language-bash">#!/bin/bash
# Generate embeddings for all text files

for file in *.txt; do
    echo "Processing $file..."
    basename=$(basename "$file" .txt)
    cgip embedding --output "${basename}.vec" -f "$file"
    echo "Saved embedding to ${basename}.vec"
done
</code></pre>
<h3 id="with-json-processing"><a class="header" href="#with-json-processing">With JSON Processing</a></h3>
<pre><code class="language-bash"># Create JSON structure with embeddings
jq -n --arg text "Hello world" --argjson embedding "$(cgip embedding "Hello world" | jq -R 'split(",") | map(tonumber)')" '{
    text: $text,
    embedding: $embedding,
    timestamp: now
}'
</code></pre>
<h2 id="use-cases-1"><a class="header" href="#use-cases-1">Use Cases</a></h2>
<h3 id="semantic-search"><a class="header" href="#semantic-search">Semantic Search</a></h3>
<pre><code class="language-bash"># Index documents
for doc in documents/*.txt; do
    cgip embedding -f "$doc" --output "index/$(basename "$doc").vec"
done

# Search for similar documents (requires similarity calculation)
cgip embedding "search query" --output query.vec
</code></pre>
<h3 id="content-recommendation"><a class="header" href="#content-recommendation">Content Recommendation</a></h3>
<pre><code class="language-bash"># Generate embeddings for user preferences
cgip embedding "user likes science fiction and technology" --output user_profile.vec

# Generate embeddings for content items
cgip embedding "article about artificial intelligence" --output content_item.vec
</code></pre>
<h3 id="text-classification"><a class="header" href="#text-classification">Text Classification</a></h3>
<pre><code class="language-bash"># Generate embeddings for training data
while IFS=',' read -r label text; do
    echo "$text" | cgip embedding --output "training/${label}_$(date +%s).vec"
done &lt; training_data.csv
</code></pre>
<h2 id="error-handling-4"><a class="header" href="#error-handling-4">Error Handling</a></h2>
<h3 id="no-input-provided"><a class="header" href="#no-input-provided">No Input Provided</a></h3>
<pre><code class="language-bash">cgip embedding
# Error: No text provided. Please provide text as an argument or via stdin.
</code></pre>
<h3 id="invalid-model"><a class="header" href="#invalid-model">Invalid Model</a></h3>
<pre><code class="language-bash">cgip embedding "text" --model invalid-model
# Error: Model 'invalid-model' not found
</code></pre>
<h3 id="output-file-issues"><a class="header" href="#output-file-issues">Output File Issues</a></h3>
<pre><code class="language-bash">cgip embedding "text" --output /root/readonly.txt
# Error: Cannot write to output file: Permission denied
</code></pre>
<h2 id="best-practices-8"><a class="header" href="#best-practices-8">Best Practices</a></h2>
<h3 id="1-choose-the-right-model"><a class="header" href="#1-choose-the-right-model">1. Choose the Right Model</a></h3>
<ul>
<li>Use <code>text-embedding-3-small</code> for most applications</li>
<li>Use <code>text-embedding-3-large</code> when accuracy is critical</li>
<li>Consider cost vs. performance trade-offs</li>
</ul>
<h3 id="2-preprocessing-text"><a class="header" href="#2-preprocessing-text">2. Preprocessing Text</a></h3>
<pre><code class="language-bash"># Clean and normalize text before embedding
echo "Text with    extra   spaces" | tr -s ' ' | cgip embedding
</code></pre>
<h3 id="3-batch-processing"><a class="header" href="#3-batch-processing">3. Batch Processing</a></h3>
<pre><code class="language-bash"># Process multiple texts efficiently
cat input_texts.txt | cgip embedding --output batch_embeddings.txt
</code></pre>
<h3 id="4-error-handling-in-scripts"><a class="header" href="#4-error-handling-in-scripts">4. Error Handling in Scripts</a></h3>
<pre><code class="language-bash">#!/bin/bash
if ! cgip embedding "test" &gt; /dev/null 2&gt;&amp;1; then
    echo "Error: Embedding service not available"
    exit 1
fi
</code></pre>
<h2 id="performance-considerations"><a class="header" href="#performance-considerations">Performance Considerations</a></h2>
<h3 id="token-limits"><a class="header" href="#token-limits">Token Limits</a></h3>
<ul>
<li>Each model has input token limits</li>
<li>Very long texts may be truncated</li>
<li>Consider splitting long documents</li>
</ul>
<h3 id="api-rate-limits"><a class="header" href="#api-rate-limits">API Rate Limits</a></h3>
<ul>
<li>Be mindful of API rate limits for batch processing</li>
<li>Add delays between requests if needed</li>
<li>Consider caching results</li>
</ul>
<h3 id="storage"><a class="header" href="#storage">Storage</a></h3>
<ul>
<li>Embedding vectors can be large (1536-3072 dimensions)</li>
<li>Consider compression for large-scale storage</li>
<li>Use appropriate data types (float32 vs float64)</li>
</ul>
<h2 id="troubleshooting-5"><a class="header" href="#troubleshooting-5">Troubleshooting</a></h2>
<h3 id="common-issues-2"><a class="header" href="#common-issues-2">Common Issues</a></h3>
<p><strong>API Key Issues</strong>:</p>
<pre><code class="language-bash"># Verify API key is set
echo $OPENAI_API_KEY

# Test with simple embedding
cgip embedding "test"
</code></pre>
<p><strong>Model Not Available</strong>:</p>
<pre><code class="language-bash"># List available models
cgip --list-models

# Use default model
cgip embedding "text" # Uses text-embedding-3-small
</code></pre>
<p><strong>Output File Problems</strong>:</p>
<pre><code class="language-bash"># Check directory permissions
ls -la output_directory/

# Use full path
cgip embedding "text" --output /full/path/to/output.txt
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="agent-command"><a class="header" href="#agent-command">Agent Command</a></h1>
<p>The <code>agent</code> subcommand provides an agentic workflow that lets the model run shell commands on your behalf. It offers a powerful way to delegate complex tasks that require multiple command executions and iterative problem-solving.</p>
<h2 id="overview-6"><a class="header" href="#overview-6">Overview</a></h2>
<p>The agent subcommand gives the AI model access to a special <code>execute</code> tool that allows it to run shell commands in a specified directory. The model can use command output as feedback to make decisions about what to do next, creating an autonomous workflow for task completion.</p>
<h2 id="usage-2"><a class="header" href="#usage-2">Usage</a></h2>
<pre><code class="language-bash">cgip agent [OPTIONS] &lt;DIRECTORY&gt; &lt;INSTRUCTION&gt;
</code></pre>
<h3 id="arguments-1"><a class="header" href="#arguments-1">Arguments</a></h3>
<ul>
<li><code>&lt;DIRECTORY&gt;</code> - Directory the agent is allowed to operate in (required)</li>
<li><code>&lt;INSTRUCTION&gt;</code> - Natural language instruction describing the goal (required)</li>
</ul>
<h3 id="options-2"><a class="header" href="#options-2">Options</a></h3>
<ul>
<li><code>--input &lt;FILES&gt;</code> - Comma separated list of files whose contents should be added to the context</li>
<li><code>--max-actions &lt;N&gt;</code> - Maximum number of commands the agent will execute before stopping (default: 10)</li>
</ul>
<h2 id="how-it-works"><a class="header" href="#how-it-works">How It Works</a></h2>
<p>When invoked, the agent:</p>
<ol>
<li><strong>Receives your instruction</strong> and any provided file contents</li>
<li><strong>Gets access to an <code>execute</code> tool</strong> that can run shell commands</li>
<li><strong>Runs commands iteratively</strong>, using output to inform next steps</li>
<li><strong>Continues until</strong> the task is complete or max actions reached</li>
<li><strong>Provides a summary</strong> of all commands executed</li>
</ol>
<p>The model has access to this tool definition:</p>
<pre><code class="language-json">{
  "type": "function",
  "function": {
    "name": "execute",
    "description": "Run a shell command",
    "parameters": {
      "type": "object",
      "properties": {
        "command": {"type": "string"}
      },
      "required": ["command"]
    }
  }
}
</code></pre>
<h2 id="basic-examples-3"><a class="header" href="#basic-examples-3">Basic Examples</a></h2>
<h3 id="simple-directory-listing"><a class="header" href="#simple-directory-listing">Simple Directory Listing</a></h3>
<pre><code class="language-bash">cgip agent . "list the current directory"
</code></pre>
<p>The agent will execute <code>ls</code> and return the results.</p>
<h3 id="project-analysis"><a class="header" href="#project-analysis">Project Analysis</a></h3>
<pre><code class="language-bash">cgip agent /path/to/project "analyze the project structure and identify the main components"
</code></pre>
<p>The agent might:</p>
<ol>
<li>Run <code>find . -name "*.py" | head -10</code> to find Python files</li>
<li>Run <code>cat requirements.txt</code> to check dependencies</li>
<li>Run <code>ls -la</code> to see the overall structure</li>
<li>Provide a comprehensive analysis based on findings</li>
</ol>
<h3 id="build-and-test"><a class="header" href="#build-and-test">Build and Test</a></h3>
<pre><code class="language-bash">cgip agent . "build the project and run tests, report any issues"
</code></pre>
<p>The agent could:</p>
<ol>
<li>Detect the project type (e.g., <code>cargo build</code> for Rust)</li>
<li>Run the build command</li>
<li>Execute tests if build succeeds</li>
<li>Analyze any errors and suggest fixes</li>
</ol>
<h2 id="advanced-examples-1"><a class="header" href="#advanced-examples-1">Advanced Examples</a></h2>
<h3 id="code-quality-analysis"><a class="header" href="#code-quality-analysis">Code Quality Analysis</a></h3>
<pre><code class="language-bash">cgip agent src/ "analyze code quality and suggest improvements" --input "package.json,README.md"
</code></pre>
<p>With file input providing context, the agent might:</p>
<ol>
<li>Run linting tools appropriate for the language</li>
<li>Check for security vulnerabilities</li>
<li>Analyze code complexity</li>
<li>Review documentation coverage</li>
</ol>
<h3 id="environment-setup"><a class="header" href="#environment-setup">Environment Setup</a></h3>
<pre><code class="language-bash">cgip agent . "set up development environment for this project" --max-actions 15
</code></pre>
<p>The agent could:</p>
<ol>
<li>Detect project requirements</li>
<li>Install dependencies</li>
<li>Set up configuration files</li>
<li>Run initial setup commands</li>
<li>Verify everything works</li>
</ol>
<h3 id="debugging-assistance"><a class="header" href="#debugging-assistance">Debugging Assistance</a></h3>
<pre><code class="language-bash">cgip agent . "investigate why tests are failing and fix the issues"
</code></pre>
<p>The agent might:</p>
<ol>
<li>Run the test suite to see failures</li>
<li>Examine failing test output</li>
<li>Look at relevant source files</li>
<li>Make necessary fixes</li>
<li>Re-run tests to verify fixes</li>
</ol>
<h2 id="options-in-detail"><a class="header" href="#options-in-detail">Options in Detail</a></h2>
<h3 id="--input-files"><a class="header" href="#--input-files"><code>--input &lt;FILES&gt;</code></a></h3>
<p>Provide additional context by including file contents:</p>
<pre><code class="language-bash"># Single file
cgip agent . "optimize this code" --input "src/main.py"

# Multiple files
cgip agent . "review these components" --input "src/user.py,src/auth.py,tests/test_auth.py"

# Configuration files for context
cgip agent . "deploy this application" --input "docker-compose.yml,package.json"
</code></pre>
<h3 id="--max-actions-n"><a class="header" href="#--max-actions-n"><code>--max-actions &lt;N&gt;</code></a></h3>
<p>Control how many commands the agent can execute:</p>
<pre><code class="language-bash"># Quick tasks
cgip agent . "check project status" --max-actions 3

# Complex tasks
cgip agent . "refactor the codebase" --max-actions 20

# Default is 10 actions
cgip agent . "analyze and improve performance"
</code></pre>
<h2 id="safety-features"><a class="header" href="#safety-features">Safety Features</a></h2>
<h3 id="directory-restriction"><a class="header" href="#directory-restriction">Directory Restriction</a></h3>
<p>The agent can only operate within the specified directory:</p>
<pre><code class="language-bash"># Agent limited to current directory
cgip agent . "clean up temporary files"

# Agent limited to specific subdirectory
cgip agent src/ "refactor the source code"
</code></pre>
<p>This prevents the agent from:</p>
<ul>
<li>Accessing files outside the specified directory</li>
<li>Making system-wide changes</li>
<li>Affecting other projects</li>
</ul>
<h3 id="action-limits"><a class="header" href="#action-limits">Action Limits</a></h3>
<p>The <code>--max-actions</code> limit prevents runaway execution:</p>
<ul>
<li>Stops infinite loops</li>
<li>Limits resource usage</li>
<li>Ensures predictable completion time</li>
</ul>
<h3 id="command-visibility"><a class="header" href="#command-visibility">Command Visibility</a></h3>
<p>All executed commands are:</p>
<ul>
<li>Shown in real-time as they run</li>
<li>Included in the final summary</li>
<li>Available for review and audit</li>
</ul>
<h2 id="best-practices-9"><a class="header" href="#best-practices-9">Best Practices</a></h2>
<h3 id="1-start-with-clear-instructions"><a class="header" href="#1-start-with-clear-instructions">1. Start with Clear Instructions</a></h3>
<pre><code class="language-bash"># Good: Specific and actionable
cgip agent . "find all Python files with TODO comments and create a task list"

# Less effective: Vague goal
cgip agent . "improve the project"
</code></pre>
<h3 id="2-use-appropriate-directory-scope"><a class="header" href="#2-use-appropriate-directory-scope">2. Use Appropriate Directory Scope</a></h3>
<pre><code class="language-bash"># Focused scope for specific tasks
cgip agent src/ "refactor utility functions"

# Broader scope for project-wide tasks
cgip agent . "set up CI/CD pipeline"
</code></pre>
<h3 id="3-provide-relevant-context"><a class="header" href="#3-provide-relevant-context">3. Provide Relevant Context</a></h3>
<pre><code class="language-bash"># Include relevant files for context
cgip agent . "update dependencies" --input "package.json,requirements.txt"
</code></pre>
<h3 id="4-set-appropriate-action-limits"><a class="header" href="#4-set-appropriate-action-limits">4. Set Appropriate Action Limits</a></h3>
<pre><code class="language-bash"># Simple tasks: low limit
cgip agent . "check syntax errors" --max-actions 5

# Complex tasks: higher limit
cgip agent . "migrate database schema" --max-actions 15
</code></pre>
<h2 id="common-use-cases-1"><a class="header" href="#common-use-cases-1">Common Use Cases</a></h2>
<h3 id="development-tasks"><a class="header" href="#development-tasks">Development Tasks</a></h3>
<pre><code class="language-bash"># Code generation
cgip agent . "create unit tests for all functions in src/utils.py"

# Refactoring
cgip agent src/ "extract common code into shared utilities"

# Documentation
cgip agent . "generate API documentation from code comments"
</code></pre>
<h3 id="project-management"><a class="header" href="#project-management">Project Management</a></h3>
<pre><code class="language-bash"># Dependency management
cgip agent . "audit and update all dependencies to latest versions"

# Project setup
cgip agent . "initialize project with standard configuration files"

# Cleanup
cgip agent . "remove unused files and clean up directory structure"
</code></pre>
<h3 id="analysis-and-reporting"><a class="header" href="#analysis-and-reporting">Analysis and Reporting</a></h3>
<pre><code class="language-bash"># Code analysis
cgip agent . "analyze code complexity and generate report"

# Security audit
cgip agent . "scan for potential security vulnerabilities"

# Performance analysis
cgip agent . "profile the application and identify bottlenecks"
</code></pre>
<h2 id="output-and-summary"><a class="header" href="#output-and-summary">Output and Summary</a></h2>
<p>After completion, the agent provides:</p>
<h3 id="real-time-output"><a class="header" href="#real-time-output">Real-time Output</a></h3>
<p>Commands and their output are shown as they execute:</p>
<pre><code>Executing: ls -la
total 24
drwxr-xr-x  5 user user 4096 Jan 15 10:30 .
drwxr-xr-x  3 user user 4096 Jan 15 10:25 ..
-rw-r--r--  1 user user  123 Jan 15 10:30 main.py
...

Executing: python -m pytest
===== test session starts =====
...
</code></pre>
<h3 id="final-summary"><a class="header" href="#final-summary">Final Summary</a></h3>
<p>A summary of all executed commands:</p>
<pre><code>Agent completed successfully. Commands executed:
1. ls -la
2. python -m pytest
3. cat test_results.txt

Task completed: All tests are passing and the project structure looks good.
</code></pre>
<h2 id="troubleshooting-6"><a class="header" href="#troubleshooting-6">Troubleshooting</a></h2>
<h3 id="permission-issues-1"><a class="header" href="#permission-issues-1">Permission Issues</a></h3>
<p>If the agent can't execute commands:</p>
<pre><code class="language-bash"># Check directory permissions
ls -la /path/to/directory

# Ensure you have execute permissions
chmod +x /path/to/directory
</code></pre>
<h3 id="command-not-found"><a class="header" href="#command-not-found">Command Not Found</a></h3>
<p>If commands fail:</p>
<pre><code class="language-bash"># Check if required tools are installed
which python
which npm
which cargo

# Install missing dependencies
</code></pre>
<h3 id="action-limit-reached"><a class="header" href="#action-limit-reached">Action Limit Reached</a></h3>
<p>If the agent stops due to action limits:</p>
<pre><code class="language-bash"># Increase the limit for complex tasks
cgip agent . "complex task" --max-actions 20

# Or break down into smaller tasks
cgip agent . "first part of complex task" --max-actions 10
</code></pre>
<h2 id="integration-examples-2"><a class="header" href="#integration-examples-2">Integration Examples</a></h2>
<h3 id="with-cicd"><a class="header" href="#with-cicd">With CI/CD</a></h3>
<pre><code class="language-bash"># In a CI script
cgip agent . "run all tests and generate coverage report" --max-actions 5
</code></pre>
<h3 id="with-development-workflow"><a class="header" href="#with-development-workflow">With Development Workflow</a></h3>
<pre><code class="language-bash"># Pre-commit hook
cgip agent . "check code quality and fix simple issues" --max-actions 8
</code></pre>
<h3 id="with-documentation"><a class="header" href="#with-documentation">With Documentation</a></h3>
<pre><code class="language-bash"># Documentation generation
cgip agent . "update README with current project status" --input "package.json,src/main.py"
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="upgrade-command"><a class="header" href="#upgrade-command">Upgrade Command</a></h1>
<p>The <code>upgrade</code> subcommand provides a convenient way to upgrade Chat Gipitty to the latest release directly from the command line. This ensures you always have access to the newest features and bug fixes.</p>
<h2 id="overview-7"><a class="header" href="#overview-7">Overview</a></h2>
<p>The upgrade command automatically:</p>
<ul>
<li>Checks for the latest version available</li>
<li>Downloads and installs the new version</li>
<li>Preserves your existing configuration</li>
<li>Provides feedback on the upgrade process</li>
</ul>
<h2 id="usage-3"><a class="header" href="#usage-3">Usage</a></h2>
<pre><code class="language-bash">cgip upgrade
</code></pre>
<p>The upgrade command takes no additional arguments or options.</p>
<h2 id="how-it-works-1"><a class="header" href="#how-it-works-1">How It Works</a></h2>
<p>When you run <code>cgip upgrade</code>, the following process occurs:</p>
<ol>
<li><strong>Version Check</strong>: Compares your current version with the latest available release</li>
<li><strong>Download</strong>: Downloads the appropriate binary for your system</li>
<li><strong>Installation</strong>: Replaces the current binary with the new version</li>
<li><strong>Verification</strong>: Confirms the upgrade was successful</li>
</ol>
<h2 id="examples-2"><a class="header" href="#examples-2">Examples</a></h2>
<h3 id="basic-upgrade"><a class="header" href="#basic-upgrade">Basic Upgrade</a></h3>
<pre><code class="language-bash">cgip upgrade
</code></pre>
<p>Example output:</p>
<pre><code>Current version: 0.4.5
Latest version: 0.5.0
Downloading cgip v0.5.0...
‚úì Download complete
‚úì Installation successful
Chat Gipitty has been upgraded to v0.5.0
</code></pre>
<h3 id="already-up-to-date"><a class="header" href="#already-up-to-date">Already Up to Date</a></h3>
<pre><code class="language-bash">cgip upgrade
</code></pre>
<p>When already on the latest version:</p>
<pre><code>Current version: 0.5.0
You are already running the latest version of cgip.
</code></pre>
<h2 id="installation-methods-1"><a class="header" href="#installation-methods-1">Installation Methods</a></h2>
<p>The upgrade command works differently depending on how Chat Gipitty was originally installed:</p>
<h3 id="cargo-installation-recommended"><a class="header" href="#cargo-installation-recommended">Cargo Installation (Recommended)</a></h3>
<p>If installed via <code>cargo install cgip</code>, the upgrade command will:</p>
<ul>
<li>Use <code>cargo install --force cgip</code> to reinstall with the latest version</li>
<li>Maintain all cargo-specific configurations</li>
<li>Work seamlessly with Rust toolchain</li>
</ul>
<h3 id="manual-installation-1"><a class="header" href="#manual-installation-1">Manual Installation</a></h3>
<p>For manual installations, the upgrade command will:</p>
<ul>
<li>Download the appropriate binary for your platform</li>
<li>Replace the existing binary in place</li>
<li>Preserve file permissions</li>
</ul>
<h2 id="platform-support"><a class="header" href="#platform-support">Platform Support</a></h2>
<p>The upgrade command supports automatic upgrades on:</p>
<ul>
<li><strong>Linux</strong> (x86_64, ARM64)</li>
<li><strong>macOS</strong> (Intel, Apple Silicon)</li>
<li><strong>Windows</strong> (x86_64)</li>
</ul>
<p>Platform detection is automatic based on your system.</p>
<h2 id="prerequisites-1"><a class="header" href="#prerequisites-1">Prerequisites</a></h2>
<h3 id="permissions"><a class="header" href="#permissions">Permissions</a></h3>
<p>The upgrade command needs appropriate permissions to:</p>
<ul>
<li>Write to the installation directory</li>
<li>Replace the existing binary</li>
<li>Create temporary files for download</li>
</ul>
<h3 id="network-access"><a class="header" href="#network-access">Network Access</a></h3>
<ul>
<li>Internet connection for downloading releases</li>
<li>Access to GitHub releases API</li>
<li>Access to release asset downloads</li>
</ul>
<h3 id="system-requirements"><a class="header" href="#system-requirements">System Requirements</a></h3>
<ul>
<li>Same system requirements as the new version</li>
<li>Sufficient disk space for download and installation</li>
</ul>
<h2 id="configuration-preservation"><a class="header" href="#configuration-preservation">Configuration Preservation</a></h2>
<p>The upgrade process preserves:</p>
<ul>
<li><strong>Configuration files</strong>: Your <code>config.toml</code> settings remain unchanged</li>
<li><strong>Session data</strong>: Existing sessions are maintained</li>
<li><strong>Environment variables</strong>: All environment settings continue to work</li>
<li><strong>Shell integration</strong>: Existing shell aliases and functions remain functional</li>
</ul>
<h2 id="safety-features-1"><a class="header" href="#safety-features-1">Safety Features</a></h2>
<h3 id="backup"><a class="header" href="#backup">Backup</a></h3>
<p>The upgrade process includes safety measures:</p>
<ul>
<li>Creates backup of current binary before replacement</li>
<li>Can rollback if upgrade fails</li>
<li>Validates new binary before finalizing upgrade</li>
</ul>
<h3 id="verification-2"><a class="header" href="#verification-2">Verification</a></h3>
<p>After upgrade:</p>
<ul>
<li>Verifies new binary is functional</li>
<li>Confirms version number matches expected version</li>
<li>Tests basic functionality</li>
</ul>
<h2 id="troubleshooting-7"><a class="header" href="#troubleshooting-7">Troubleshooting</a></h2>
<h3 id="permission-denied"><a class="header" href="#permission-denied">Permission Denied</a></h3>
<p>If you encounter permission errors:</p>
<pre><code class="language-bash"># Linux/macOS: Use sudo if needed
sudo cgip upgrade

# Or change ownership of installation directory
sudo chown -R $(whoami) /usr/local/bin/cgip
</code></pre>
<h3 id="network-issues-2"><a class="header" href="#network-issues-2">Network Issues</a></h3>
<p>For network-related problems:</p>
<pre><code class="language-bash"># Check internet connectivity
ping github.com

# Check if GitHub is accessible
curl -I https://api.github.com/repos/divanvisagie/chat-gipitty/releases/latest
</code></pre>
<h3 id="download-failures"><a class="header" href="#download-failures">Download Failures</a></h3>
<p>If downloads fail:</p>
<ul>
<li>Check available disk space</li>
<li>Verify write permissions to temp directory</li>
<li>Try again later (temporary GitHub issues)</li>
</ul>
<h3 id="corrupted-download"><a class="header" href="#corrupted-download">Corrupted Download</a></h3>
<p>If the downloaded binary appears corrupted:</p>
<ul>
<li>The upgrade will automatically retry</li>
<li>Check your internet connection stability</li>
<li>Clear temporary files and try again</li>
</ul>
<h2 id="manual-upgrade-alternative"><a class="header" href="#manual-upgrade-alternative">Manual Upgrade Alternative</a></h2>
<p>If the automatic upgrade fails, you can upgrade manually:</p>
<h3 id="via-cargo-recommended"><a class="header" href="#via-cargo-recommended">Via Cargo (Recommended)</a></h3>
<pre><code class="language-bash">cargo install --force cgip
</code></pre>
<h3 id="via-github-releases"><a class="header" href="#via-github-releases">Via GitHub Releases</a></h3>
<ol>
<li>Visit the <a href="https://github.com/divanvisagie/chat-gipitty/releases">releases page</a></li>
<li>Download the appropriate binary for your system</li>
<li>Replace the existing binary</li>
<li>Make the new binary executable (Linux/macOS)</li>
</ol>
<h3 id="via-package-managers"><a class="header" href="#via-package-managers">Via Package Managers</a></h3>
<p>Some package managers may have their own update mechanisms:</p>
<pre><code class="language-bash"># Homebrew (if available)
brew upgrade cgip

# APT (if available)
sudo apt update &amp;&amp; sudo apt upgrade cgip
</code></pre>
<h2 id="upgrade-frequency"><a class="header" href="#upgrade-frequency">Upgrade Frequency</a></h2>
<h3 id="checking-for-updates"><a class="header" href="#checking-for-updates">Checking for Updates</a></h3>
<p>You can check if updates are available without upgrading:</p>
<pre><code class="language-bash"># Check current version
cgip --version

# Visit releases page or use upgrade command (it will show if updates are available)
cgip upgrade
</code></pre>
<h3 id="recommended-schedule"><a class="header" href="#recommended-schedule">Recommended Schedule</a></h3>
<ul>
<li><strong>Patch releases</strong>: Upgrade promptly for bug fixes</li>
<li><strong>Minor releases</strong>: Upgrade when convenient for new features</li>
<li><strong>Major releases</strong>: Review changelog and upgrade when ready</li>
</ul>
<h2 id="release-channels"><a class="header" href="#release-channels">Release Channels</a></h2>
<p>Chat Gipitty follows semantic versioning:</p>
<ul>
<li><strong>Patch releases</strong> (0.5.1): Bug fixes, security updates</li>
<li><strong>Minor releases</strong> (0.6.0): New features, improvements</li>
<li><strong>Major releases</strong> (1.0.0): Breaking changes, major rewrites</li>
</ul>
<p>The upgrade command always targets the latest stable release.</p>
<h2 id="rollback"><a class="header" href="#rollback">Rollback</a></h2>
<p>If you need to rollback after an upgrade:</p>
<h3 id="automatic-rollback"><a class="header" href="#automatic-rollback">Automatic Rollback</a></h3>
<p>The upgrade process includes automatic rollback on failure.</p>
<h3 id="manual-rollback"><a class="header" href="#manual-rollback">Manual Rollback</a></h3>
<p>If you need to manually rollback:</p>
<pre><code class="language-bash"># Reinstall specific version via cargo
cargo install --force cgip --version 0.4.5

# Or download specific version from releases
# and replace the binary manually
</code></pre>
<h2 id="integration-with-cicd"><a class="header" href="#integration-with-cicd">Integration with CI/CD</a></h2>
<p>For automated environments:</p>
<pre><code class="language-bash"># Check if upgrade is needed in scripts
CURRENT_VERSION=$(cgip --version | cut -d' ' -f2)
LATEST_VERSION=$(curl -s https://api.github.com/repos/divanvisagie/chat-gipitty/releases/latest | jq -r .tag_name)

if [ "$CURRENT_VERSION" != "$LATEST_VERSION" ]; then
    echo "Upgrade available: $CURRENT_VERSION -&gt; $LATEST_VERSION"
    cgip upgrade
fi
</code></pre>
<h2 id="best-practices-10"><a class="header" href="#best-practices-10">Best Practices</a></h2>
<h3 id="before-upgrading"><a class="header" href="#before-upgrading">Before Upgrading</a></h3>
<ol>
<li><strong>Read the changelog</strong> to understand what's changing</li>
<li><strong>Backup important sessions</strong> if doing major upgrades</li>
<li><strong>Test in non-production environments</strong> first</li>
</ol>
<h3 id="after-upgrading"><a class="header" href="#after-upgrading">After Upgrading</a></h3>
<ol>
<li><strong>Verify functionality</strong> with a simple test query</li>
<li><strong>Check that your configuration</strong> still works</li>
<li><strong>Review new features</strong> in the documentation</li>
</ol>
<h3 id="staying-updated"><a class="header" href="#staying-updated">Staying Updated</a></h3>
<ul>
<li>Subscribe to releases on GitHub for notifications</li>
<li>Check periodically with <code>cgip upgrade</code></li>
<li>Join community channels for upgrade announcements</li>
</ul>
<h2 id="security-considerations"><a class="header" href="#security-considerations">Security Considerations</a></h2>
<p>The upgrade process:</p>
<ul>
<li>Downloads only from official GitHub releases</li>
<li>Verifies checksums when available</li>
<li>Uses secure HTTPS connections</li>
<li>Preserves existing file permissions</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration"><a class="header" href="#configuration">Configuration</a></h1>
<p>Chat Gipitty can be configured through multiple methods to customize its behavior for your needs. This page covers all the configuration options available and how to set them.</p>
<h2 id="configuration-methods"><a class="header" href="#configuration-methods">Configuration Methods</a></h2>
<p>Chat Gipitty supports configuration through:</p>
<ol>
<li><strong>Configuration file</strong> (<code>config.toml</code>)</li>
<li><strong>Environment variables</strong></li>
<li><strong>Command-line options</strong></li>
</ol>
<p>Configuration is applied in order of precedence:</p>
<ol>
<li>Command-line options (highest priority)</li>
<li>Environment variables</li>
<li>Configuration file (lowest priority)</li>
</ol>
<h2 id="configuration-file"><a class="header" href="#configuration-file">Configuration File</a></h2>
<h3 id="location"><a class="header" href="#location">Location</a></h3>
<p>The configuration file is located in your system's configuration directory:</p>
<ul>
<li><strong>Linux</strong>: <code>~/.config/cgip/config.toml</code></li>
<li><strong>macOS</strong>: <code>~/Library/Application Support/cgip/config.toml</code></li>
<li><strong>Windows</strong>: <code>%APPDATA%\cgip\config.toml</code></li>
</ul>
<h3 id="file-format"><a class="header" href="#file-format">File Format</a></h3>
<p>The configuration file uses TOML format:</p>
<pre><code class="language-toml"># Chat Gipitty Configuration File

# Default model to use
model = "gpt-4"

# Custom API base URL (optional)
base_url = "https://api.openai.com"

# Default system prompt (optional)
system_prompt = "You are a helpful assistant."

# Show progress indicator by default
show_progress = false

# Default to markdown output
markdown = false

# Session configuration
session_name = ""

# File input settings
default_file_extensions = [".txt", ".md", ".rs", ".py", ".js"]
</code></pre>
<h3 id="available-options-1"><a class="header" href="#available-options-1">Available Options</a></h3>
<h4 id="core-settings"><a class="header" href="#core-settings">Core Settings</a></h4>
<p><strong><code>model</code></strong> (string)</p>
<ul>
<li>Default model to use for queries</li>
<li>Default: <code>"gpt-4"</code></li>
<li>Example: <code>"gpt-3.5-turbo"</code>, <code>"gpt-4-turbo"</code></li>
</ul>
<p><strong><code>base_url</code></strong> (string)</p>
<ul>
<li>Custom API base URL for alternative providers</li>
<li>Default: <code>"https://api.openai.com"</code></li>
<li>Example: <code>"http://localhost:11434/v1"</code> for Ollama</li>
</ul>
<p><strong><code>system_prompt</code></strong> (string)</p>
<ul>
<li>Default system prompt for all queries</li>
<li>Default: None</li>
<li>Example: <code>"You are a coding assistant"</code></li>
</ul>
<h4 id="display-settings"><a class="header" href="#display-settings">Display Settings</a></h4>
<p><strong><code>show_progress</code></strong> (boolean)</p>
<ul>
<li>Show progress indicator by default</li>
<li>Default: <code>false</code></li>
<li>Equivalent to <code>-p, --show-progress</code></li>
</ul>
<p><strong><code>markdown</code></strong> (boolean)</p>
<ul>
<li>Format output in markdown by default</li>
<li>Default: <code>false</code></li>
<li>Equivalent to <code>-m, --markdown</code></li>
</ul>
<p><strong><code>show_context</code></strong> (boolean)</p>
<ul>
<li>Show context by default</li>
<li>Default: <code>false</code></li>
<li>Equivalent to <code>-c, --show-context</code></li>
</ul>
<h4 id="session-settings"><a class="header" href="#session-settings">Session Settings</a></h4>
<p><strong><code>session_name</code></strong> (string)</p>
<ul>
<li>Default session name</li>
<li>Default: Empty (no sessions)</li>
<li>Can be overridden by <code>CGIP_SESSION_NAME</code> environment variable</li>
</ul>
<p><strong><code>no_session</code></strong> (boolean)</p>
<ul>
<li>Disable sessions by default</li>
<li>Default: <code>false</code></li>
<li>Equivalent to <code>-n, --no-session</code></li>
</ul>
<h2 id="using-the-config-command"><a class="header" href="#using-the-config-command">Using the Config Command</a></h2>
<p>The <code>config</code> subcommand allows you to view and modify configuration values:</p>
<h3 id="view-configuration"><a class="header" href="#view-configuration">View Configuration</a></h3>
<pre><code class="language-bash"># View all configuration
cgip config

# View specific setting
cgip config --get model
cgip config --get base_url
</code></pre>
<h3 id="set-configuration"><a class="header" href="#set-configuration">Set Configuration</a></h3>
<pre><code class="language-bash"># Set model
cgip config --set model=gpt-4-turbo

# Set custom API endpoint
cgip config --set base_url=http://localhost:11434/v1

# Set system prompt
cgip config --set system_prompt="You are a helpful coding assistant"

# Enable progress indicator by default
cgip config --set show_progress=true
</code></pre>
<h3 id="examples-3"><a class="header" href="#examples-3">Examples</a></h3>
<pre><code class="language-bash"># Configure for OpenAI GPT-4
cgip config --set model=gpt-4
cgip config --set base_url=https://api.openai.com

# Configure for local Ollama
cgip config --set model=llama2
cgip config --set base_url=http://localhost:11434/v1

# Configure for daily sessions
cgip config --set session_name=$(date -I)

# Set a default system prompt
cgip config --set system_prompt="You are an expert programmer. Provide concise, accurate answers."
</code></pre>
<h2 id="environment-variables"><a class="header" href="#environment-variables">Environment Variables</a></h2>
<p>Environment variables override configuration file settings:</p>
<h3 id="required-variables"><a class="header" href="#required-variables">Required Variables</a></h3>
<p><strong><code>OPENAI_API_KEY</code></strong></p>
<ul>
<li>Your API key for the configured provider</li>
<li>Required for most functionality</li>
</ul>
<h3 id="optional-variables"><a class="header" href="#optional-variables">Optional Variables</a></h3>
<p><strong><code>OPENAI_BASE_URL</code></strong></p>
<ul>
<li>Custom API endpoint</li>
<li>Overrides <code>base_url</code> in config file</li>
</ul>
<p><strong><code>CGIP_SESSION_NAME</code></strong></p>
<ul>
<li>Session name for session management</li>
<li>Overrides <code>session_name</code> in config file</li>
</ul>
<h3 id="examples-4"><a class="header" href="#examples-4">Examples</a></h3>
<pre><code class="language-bash"># Basic OpenAI setup
export OPENAI_API_KEY="sk-your-key-here"

# Custom provider setup
export OPENAI_API_KEY="your-provider-key"
export OPENAI_BASE_URL="https://api.provider.com/v1"

# Session management
export CGIP_SESSION_NAME=$(date -I)
</code></pre>
<h2 id="command-line-options"><a class="header" href="#command-line-options">Command-Line Options</a></h2>
<p>Command-line options have the highest precedence and override both environment variables and configuration file settings.</p>
<h3 id="model-selection-2"><a class="header" href="#model-selection-2">Model Selection</a></h3>
<pre><code class="language-bash"># Override configured model
cgip -M gpt-3.5-turbo "query"

# List available models
cgip -l
</code></pre>
<h3 id="output-control"><a class="header" href="#output-control">Output Control</a></h3>
<pre><code class="language-bash"># Show progress (overrides config)
cgip -p "long running query"

# Show context (overrides config)
cgip -c "query with context"

# Markdown output (overrides config)
cgip -m "formatted query"
</code></pre>
<h3 id="session-control"><a class="header" href="#session-control">Session Control</a></h3>
<pre><code class="language-bash"># Disable session for this query
cgip -n "isolated query"
</code></pre>
<h2 id="configuration-examples"><a class="header" href="#configuration-examples">Configuration Examples</a></h2>
<h3 id="developer-setup"><a class="header" href="#developer-setup">Developer Setup</a></h3>
<p>Configuration for software development:</p>
<pre><code class="language-toml"># config.toml
model = "gpt-4"
system_prompt = "You are an expert software developer. Provide concise, practical solutions."
show_progress = true
show_context = false
</code></pre>
<pre><code class="language-bash"># Environment
export OPENAI_API_KEY="your-key"
export CGIP_SESSION_NAME="dev-$(date +%Y%m%d)"
</code></pre>
<h3 id="data-analysis-setup"><a class="header" href="#data-analysis-setup">Data Analysis Setup</a></h3>
<p>Configuration for data analysis tasks:</p>
<pre><code class="language-toml"># config.toml
model = "gpt-4-turbo"
system_prompt = "You are a data analyst. Focus on insights and actionable recommendations."
markdown = true
show_progress = true
</code></pre>
<h3 id="local-ai-setup"><a class="header" href="#local-ai-setup">Local AI Setup</a></h3>
<p>Configuration for local AI models via Ollama:</p>
<pre><code class="language-toml"># config.toml
model = "llama2"
base_url = "http://localhost:11434/v1"
show_progress = true
</code></pre>
<pre><code class="language-bash"># Environment (Ollama doesn't need real API key)
export OPENAI_API_KEY="ollama"
</code></pre>
<h3 id="multi-provider-setup"><a class="header" href="#multi-provider-setup">Multi-Provider Setup</a></h3>
<p>Using shell functions for different providers:</p>
<pre><code class="language-bash"># In ~/.bashrc or ~/.zshrc

# OpenAI function
openai() {
    OPENAI_API_KEY="$OPENAI_KEY" \
    OPENAI_BASE_URL="https://api.openai.com" \
    cgip -M gpt-4 "$@"
}

# Local function
local() {
    OPENAI_API_KEY="ollama" \
    OPENAI_BASE_URL="http://localhost:11434/v1" \
    cgip -M llama2 "$@"
}

# Claude function (via proxy)
claude() {
    OPENAI_API_KEY="$CLAUDE_KEY" \
    OPENAI_BASE_URL="https://claude-proxy.com/v1" \
    cgip -M claude-3 "$@"
}
</code></pre>
<h2 id="configuration-validation"><a class="header" href="#configuration-validation">Configuration Validation</a></h2>
<h3 id="check-current-configuration"><a class="header" href="#check-current-configuration">Check Current Configuration</a></h3>
<pre><code class="language-bash"># View all current settings
cgip config

# Test configuration
cgip "test query"

# Verify model availability
cgip -l
</code></pre>
<h3 id="common-configuration-issues"><a class="header" href="#common-configuration-issues">Common Configuration Issues</a></h3>
<p><strong>Invalid Model</strong>:</p>
<pre><code class="language-bash">cgip config --set model=gpt-4
cgip -l  # Verify model is available
</code></pre>
<p><strong>Wrong API Endpoint</strong>:</p>
<pre><code class="language-bash">cgip config --set base_url=https://api.openai.com
# Test with a simple query
cgip "hello"
</code></pre>
<p><strong>Missing API Key</strong>:</p>
<pre><code class="language-bash">export OPENAI_API_KEY="your-key"
# Or check if it's set
echo $OPENAI_API_KEY
</code></pre>
<h2 id="advanced-configuration-1"><a class="header" href="#advanced-configuration-1">Advanced Configuration</a></h2>
<h3 id="project-specific-configuration-1"><a class="header" href="#project-specific-configuration-1">Project-Specific Configuration</a></h3>
<p>Create project-specific configuration with shell functions:</p>
<pre><code class="language-bash"># In project directory
project_cgip() {
    local config_file="$(pwd)/.cgip.toml"
    if [[ -f "$config_file" ]]; then
        CGIP_CONFIG_FILE="$config_file" cgip "$@"
    else
        cgip "$@"
    fi
}
</code></pre>
<h3 id="conditional-configuration"><a class="header" href="#conditional-configuration">Conditional Configuration</a></h3>
<p>Configure based on environment:</p>
<pre><code class="language-bash"># In ~/.bashrc or ~/.zshrc
if [[ "$ENVIRONMENT" == "development" ]]; then
    export OPENAI_BASE_URL="http://localhost:11434/v1"
    export OPENAI_API_KEY="ollama"
else
    export OPENAI_API_KEY="$PRODUCTION_OPENAI_KEY"
fi
</code></pre>
<h3 id="configuration-templates"><a class="header" href="#configuration-templates">Configuration Templates</a></h3>
<p>Save common configurations as templates:</p>
<pre><code class="language-bash"># Save current config as template
cp ~/.config/cgip/config.toml ~/.config/cgip/templates/dev.toml

# Load template
cp ~/.config/cgip/templates/dev.toml ~/.config/cgip/config.toml
</code></pre>
<h2 id="troubleshooting-configuration"><a class="header" href="#troubleshooting-configuration">Troubleshooting Configuration</a></h2>
<h3 id="debug-configuration"><a class="header" href="#debug-configuration">Debug Configuration</a></h3>
<pre><code class="language-bash"># Check where config file should be
cgip config --get model 2&gt;&amp;1 | grep -i "config"

# Verify environment variables
env | grep -E "(OPENAI|CGIP)"

# Test with explicit options
cgip -M gpt-3.5-turbo "test"
</code></pre>
<h3 id="reset-configuration"><a class="header" href="#reset-configuration">Reset Configuration</a></h3>
<pre><code class="language-bash"># Remove config file to reset to defaults
rm ~/.config/cgip/config.toml

# Or reset specific settings
cgip config --set model=gpt-4
cgip config --set base_url=https://api.openai.com
</code></pre>
<h3 id="configuration-precedence-testing"><a class="header" href="#configuration-precedence-testing">Configuration Precedence Testing</a></h3>
<pre><code class="language-bash"># Test precedence (command line &gt; env &gt; config)
# 1. Set in config file
cgip config --set model=gpt-3.5-turbo

# 2. Override with environment
CGIP_MODEL=gpt-4 cgip "test"

# 3. Override with command line
CGIP_MODEL=gpt-4 cgip -M gpt-4-turbo "test"
</code></pre>
<h2 id="security-considerations-1"><a class="header" href="#security-considerations-1">Security Considerations</a></h2>
<h3 id="api-key-security"><a class="header" href="#api-key-security">API Key Security</a></h3>
<ul>
<li>Never commit API keys to version control</li>
<li>Use environment variables for sensitive data</li>
<li>Consider using secret management systems</li>
<li>Rotate keys regularly</li>
</ul>
<h3 id="configuration-file-permissions"><a class="header" href="#configuration-file-permissions">Configuration File Permissions</a></h3>
<pre><code class="language-bash"># Secure config file
chmod 600 ~/.config/cgip/config.toml

# Verify permissions
ls -la ~/.config/cgip/config.toml
</code></pre>
<h3 id="environment-variable-security"><a class="header" href="#environment-variable-security">Environment Variable Security</a></h3>
<pre><code class="language-bash"># Use env files that are gitignored
echo "OPENAI_API_KEY=your-key" &gt; .env
echo ".env" &gt;&gt; .gitignore
source .env
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="environment-variables-1"><a class="header" href="#environment-variables-1">Environment Variables</a></h1>
<p>Chat Gipitty uses several environment variables for configuration. These variables allow you to customize the behavior without modifying configuration files or passing command-line arguments repeatedly.</p>
<h2 id="required-variables-1"><a class="header" href="#required-variables-1">Required Variables</a></h2>
<h3 id="openai_api_key"><a class="header" href="#openai_api_key"><code>OPENAI_API_KEY</code></a></h3>
<p><strong>Required for most functionality</strong></p>
<p>Your OpenAI API key or compatible API key for your chosen provider.</p>
<pre><code class="language-bash">export OPENAI_API_KEY="sk-your-api-key-here"
</code></pre>
<p>For other providers:</p>
<pre><code class="language-bash"># Google Gemini
export OPENAI_API_KEY="your-gemini-api-key"

# Anthropic Claude
export OPENAI_API_KEY="your-claude-api-key"

# Mistral AI
export OPENAI_API_KEY="your-mistral-api-key"
</code></pre>
<h2 id="optional-variables-1"><a class="header" href="#optional-variables-1">Optional Variables</a></h2>
<h3 id="openai_base_url"><a class="header" href="#openai_base_url"><code>OPENAI_BASE_URL</code></a></h3>
<p><strong>Default:</strong> <code>https://api.openai.com</code></p>
<p>Specify a custom API endpoint for OpenAI-compatible providers.</p>
<pre><code class="language-bash"># Local Ollama instance
export OPENAI_BASE_URL="http://localhost:11434/v1"

# Google Gemini (via OpenAI-compatible proxy)
export OPENAI_BASE_URL="https://generativelanguage.googleapis.com/v1beta"

# Mistral AI
export OPENAI_BASE_URL="https://api.mistral.ai/v1"

# Anthropic Claude (via proxy)
export OPENAI_BASE_URL="https://api.anthropic.com/v1"

# Custom provider
export OPENAI_BASE_URL="https://your-provider.com/v1"
</code></pre>
<h4 id="url-construction-logic-1"><a class="header" href="#url-construction-logic-1">URL Construction Logic</a></h4>
<p>Chat Gipitty intelligently constructs the API endpoint:</p>
<ul>
<li>If your base URL already contains <code>/chat/completions</code>, it uses it as-is</li>
<li>If your base URL ends with <code>/v1</code> (or similar version pattern), it appends <code>/chat/completions</code></li>
<li>Otherwise, it appends <code>/v1/chat/completions</code> (standard OpenAI pattern)</li>
</ul>
<p>Examples:</p>
<pre><code class="language-bash"># These all work correctly:
export OPENAI_BASE_URL="https://api.example.com/v1"
# Results in: https://api.example.com/v1/chat/completions

export OPENAI_BASE_URL="https://api.example.com/v2/chat/completions"
# Results in: https://api.example.com/v2/chat/completions (used as-is)

export OPENAI_BASE_URL="https://api.example.com"
# Results in: https://api.example.com/v1/chat/completions
</code></pre>
<h3 id="cgip_session_name"><a class="header" href="#cgip_session_name"><code>CGIP_SESSION_NAME</code></a></h3>
<p><strong>Default:</strong> No session management</p>
<p>Controls session management and uniqueness. The uniqueness of your session depends on the value of this variable.</p>
<pre><code class="language-bash"># New session for each terminal (using uuid)
export CGIP_SESSION_NAME=$(uuid)

# Daily sessions (same session for entire day)
export CGIP_SESSION_NAME=$(date -I)

# Weekly sessions
export CGIP_SESSION_NAME=$(date +%Y-W%U)

# Project-specific sessions
export CGIP_SESSION_NAME="project-$(basename $PWD)"

# Manual session naming
export CGIP_SESSION_NAME="my-coding-session"
</code></pre>
<h4 id="session-examples"><a class="header" href="#session-examples">Session Examples</a></h4>
<p><strong>Terminal-specific sessions:</strong></p>
<pre><code class="language-bash"># Add to ~/.bashrc or ~/.zshrc
export CGIP_SESSION_NAME=$(uuid)
</code></pre>
<p><strong>Date-based sessions:</strong></p>
<pre><code class="language-bash"># Daily sessions
export CGIP_SESSION_NAME=$(date -I)  # 2024-01-15

# Weekly sessions  
export CGIP_SESSION_NAME=$(date +%Y-W%U)  # 2024-W03

# Monthly sessions
export CGIP_SESSION_NAME=$(date +%Y-%m)  # 2024-01
</code></pre>
<p><strong>Project-based sessions:</strong></p>
<pre><code class="language-bash"># Use current directory name
export CGIP_SESSION_NAME="project-$(basename $PWD)"

# Use git repository name
export CGIP_SESSION_NAME="git-$(git rev-parse --show-toplevel | xargs basename)"
</code></pre>
<h2 id="configuration-in-shell-profiles"><a class="header" href="#configuration-in-shell-profiles">Configuration in Shell Profiles</a></h2>
<h3 id="bash-bashrc"><a class="header" href="#bash-bashrc">Bash (~/.bashrc)</a></h3>
<pre><code class="language-bash"># Basic configuration
export OPENAI_API_KEY="your-api-key-here"
export CGIP_SESSION_NAME=$(uuid)

# Custom provider configuration
export OPENAI_BASE_URL="http://localhost:11434/v1"
export OPENAI_API_KEY="ollama"  # Ollama doesn't require a real key
</code></pre>
<h3 id="zsh-zshrc"><a class="header" href="#zsh-zshrc">Zsh (~/.zshrc)</a></h3>
<pre><code class="language-bash"># Basic configuration
export OPENAI_API_KEY="your-api-key-here"
export CGIP_SESSION_NAME=$(uuid)

# Project-aware sessions
export CGIP_SESSION_NAME="$(basename $PWD)-$(date -I)"
</code></pre>
<h3 id="fish-configfishconfigfish"><a class="header" href="#fish-configfishconfigfish">Fish (~/.config/fish/config.fish)</a></h3>
<pre><code class="language-fish"># Basic configuration
set -gx OPENAI_API_KEY "your-api-key-here"
set -gx CGIP_SESSION_NAME (uuid)

# Daily sessions
set -gx CGIP_SESSION_NAME (date -I)
</code></pre>
<h2 id="provider-specific-configurations"><a class="header" href="#provider-specific-configurations">Provider-Specific Configurations</a></h2>
<h3 id="openai-default"><a class="header" href="#openai-default">OpenAI (Default)</a></h3>
<pre><code class="language-bash">export OPENAI_API_KEY="sk-your-openai-key"
# OPENAI_BASE_URL uses default: https://api.openai.com
</code></pre>
<h3 id="ollama-local"><a class="header" href="#ollama-local">Ollama (Local)</a></h3>
<pre><code class="language-bash">export OPENAI_BASE_URL="http://localhost:11434/v1"
export OPENAI_API_KEY="ollama"  # Placeholder, not used by Ollama
</code></pre>
<h3 id="google-gemini"><a class="header" href="#google-gemini">Google Gemini</a></h3>
<pre><code class="language-bash">export OPENAI_BASE_URL="https://generativelanguage.googleapis.com/v1beta"
export OPENAI_API_KEY="your-gemini-api-key"
</code></pre>
<h3 id="mistral-ai-1"><a class="header" href="#mistral-ai-1">Mistral AI</a></h3>
<pre><code class="language-bash">export OPENAI_BASE_URL="https://api.mistral.ai/v1"
export OPENAI_API_KEY="your-mistral-api-key"
</code></pre>
<h3 id="anthropic-claude-via-proxy"><a class="header" href="#anthropic-claude-via-proxy">Anthropic Claude (via proxy)</a></h3>
<pre><code class="language-bash">export OPENAI_BASE_URL="https://api.anthropic.com/v1"
export OPENAI_API_KEY="your-claude-api-key"
</code></pre>
<h2 id="advanced-configuration-2"><a class="header" href="#advanced-configuration-2">Advanced Configuration</a></h2>
<h3 id="multiple-api-keys"><a class="header" href="#multiple-api-keys">Multiple API Keys</a></h3>
<p>For different projects or providers:</p>
<pre><code class="language-bash"># Project-specific configuration
if [[ "$PWD" == *"work-project"* ]]; then
    export OPENAI_API_KEY="$WORK_OPENAI_KEY"
    export OPENAI_BASE_URL="https://work-api.company.com/v1"
else
    export OPENAI_API_KEY="$PERSONAL_OPENAI_KEY"
    # Use default OpenAI endpoint
fi
</code></pre>
<h3 id="dynamic-session-names"><a class="header" href="#dynamic-session-names">Dynamic Session Names</a></h3>
<pre><code class="language-bash"># Function to generate smart session names
cgip_session() {
    if git rev-parse --git-dir &gt; /dev/null 2&gt;&amp;1; then
        # In a git repository
        echo "git-$(git rev-parse --show-toplevel | xargs basename)-$(date +%Y%m%d)"
    else
        # Not in git, use directory and date
        echo "$(basename $PWD)-$(date +%Y%m%d)"
    fi
}

export CGIP_SESSION_NAME=$(cgip_session)
</code></pre>
<h3 id="conditional-configuration-1"><a class="header" href="#conditional-configuration-1">Conditional Configuration</a></h3>
<pre><code class="language-bash"># Use local Ollama during development, OpenAI in production
if [[ "$ENVIRONMENT" == "development" ]]; then
    export OPENAI_BASE_URL="http://localhost:11434/v1"
    export OPENAI_API_KEY="ollama"
else
    export OPENAI_API_KEY="$PRODUCTION_OPENAI_KEY"
fi
</code></pre>
<h2 id="troubleshooting-8"><a class="header" href="#troubleshooting-8">Troubleshooting</a></h2>
<h3 id="common-issues-3"><a class="header" href="#common-issues-3">Common Issues</a></h3>
<p><strong>API Key not found:</strong></p>
<pre><code class="language-bash"># Check if variable is set
echo $OPENAI_API_KEY

# Set temporarily for testing
OPENAI_API_KEY="your-key" cgip "test query"
</code></pre>
<p><strong>Wrong endpoint:</strong></p>
<pre><code class="language-bash"># Check current base URL
echo $OPENAI_BASE_URL

# Test with explicit URL
OPENAI_BASE_URL="http://localhost:11434/v1" cgip "test query"
</code></pre>
<p><strong>Session not working:</strong></p>
<pre><code class="language-bash"># Check session name
echo $CGIP_SESSION_NAME

# Test session functionality
cgip session --view
</code></pre>
<h3 id="debugging-environment"><a class="header" href="#debugging-environment">Debugging Environment</a></h3>
<pre><code class="language-bash"># Show all cgip-related environment variables
env | grep -E "(OPENAI|CGIP)"

# Test configuration
cgip config --get model
cgip config --get base_url
</code></pre>
<h2 id="security-considerations-2"><a class="header" href="#security-considerations-2">Security Considerations</a></h2>
<h3 id="api-key-security-1"><a class="header" href="#api-key-security-1">API Key Security</a></h3>
<ul>
<li>Never commit API keys to version control</li>
<li>Use environment files that are gitignored</li>
<li>Consider using secret management tools for production</li>
</ul>
<h3 id="environment-files"><a class="header" href="#environment-files">Environment Files</a></h3>
<p>Create a <code>.env</code> file (add to <code>.gitignore</code>):</p>
<pre><code class="language-bash"># .env file
OPENAI_API_KEY=your-secret-key
OPENAI_BASE_URL=https://api.openai.com
CGIP_SESSION_NAME=my-session
</code></pre>
<p>Load with:</p>
<pre><code class="language-bash"># Load environment file
source .env
</code></pre>
<h3 id="session-privacy-1"><a class="header" href="#session-privacy-1">Session Privacy</a></h3>
<ul>
<li>Be aware that session names might be visible in process lists</li>
<li>Use generic session names for sensitive work</li>
<li>Clear sessions when working with confidential information:
<pre><code class="language-bash">cgip session --clear
</code></pre>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="custom-api-endpoints-2"><a class="header" href="#custom-api-endpoints-2">Custom API Endpoints</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="advanced-usage-3"><a class="header" href="#advanced-usage-3">Advanced Usage</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="file-input-1"><a class="header" href="#file-input-1">File Input</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model-selection-3"><a class="header" href="#model-selection-3">Model Selection</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="system-prompts-1"><a class="header" href="#system-prompts-1">System Prompts</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="examples-5"><a class="header" href="#examples-5">Examples</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development-workflow-1"><a class="header" href="#development-workflow-1">Development Workflow</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="text-processing-1"><a class="header" href="#text-processing-1">Text Processing</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="image-analysis-1"><a class="header" href="#image-analysis-1">Image Analysis</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="voice-synthesis"><a class="header" href="#voice-synthesis">Voice Synthesis</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="troubleshooting-9"><a class="header" href="#troubleshooting-9">Troubleshooting</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributing"><a class="header" href="#contributing">Contributing</a></h1>
<p>Thank you for your interest in contributing to Chat Gipitty! This guide covers how to contribute to the project, from reporting bugs to submitting code changes.</p>
<h2 id="ways-to-contribute"><a class="header" href="#ways-to-contribute">Ways to Contribute</a></h2>
<h3 id="reporting-issues"><a class="header" href="#reporting-issues">Reporting Issues</a></h3>
<ul>
<li><strong>Bug Reports</strong>: Found a bug? Please report it with detailed steps to reproduce</li>
<li><strong>Feature Requests</strong>: Have an idea for a new feature? Let us know!</li>
<li><strong>Documentation</strong>: Help improve the documentation with corrections or additions</li>
<li><strong>Performance Issues</strong>: Report performance problems or suggest optimizations</li>
</ul>
<h3 id="code-contributions"><a class="header" href="#code-contributions">Code Contributions</a></h3>
<ul>
<li><strong>Bug Fixes</strong>: Fix reported issues</li>
<li><strong>New Features</strong>: Implement requested features</li>
<li><strong>Performance Improvements</strong>: Optimize existing code</li>
<li><strong>Tests</strong>: Add or improve test coverage</li>
<li><strong>Documentation</strong>: Update code comments and documentation</li>
</ul>
<h2 id="getting-started-1"><a class="header" href="#getting-started-1">Getting Started</a></h2>
<h3 id="prerequisites-2"><a class="header" href="#prerequisites-2">Prerequisites</a></h3>
<ul>
<li><strong>Rust</strong>: Install the latest stable version from <a href="https://rustup.rs/">rustup.rs</a></li>
<li><strong>Git</strong>: For version control and submitting changes</li>
<li><strong>Code Editor</strong>: Any editor with Rust support (VSCode, IntelliJ, etc.)</li>
</ul>
<h3 id="development-setup-1"><a class="header" href="#development-setup-1">Development Setup</a></h3>
<pre><code class="language-bash"># Clone the repository
git clone https://github.com/divanvisagie/chat-gipitty.git
cd chat-gipitty

# Build the project
cargo build

# Run tests
cargo test

# Run the development version
cargo run -- --help
</code></pre>
<h3 id="ubuntu-development-setup"><a class="header" href="#ubuntu-development-setup">Ubuntu Development Setup</a></h3>
<p>On Ubuntu, additional packages are required for building distribution packages:</p>
<pre><code class="language-bash">sudo apt-get install build-essential dh-make debhelper devscripts
</code></pre>
<h2 id="development-workflow-2"><a class="header" href="#development-workflow-2">Development Workflow</a></h2>
<h3 id="1-fork-and-clone"><a class="header" href="#1-fork-and-clone">1. Fork and Clone</a></h3>
<ol>
<li>Fork the repository on GitHub</li>
<li>Clone your fork locally</li>
<li>Add the upstream repository as a remote</li>
</ol>
<pre><code class="language-bash">git clone https://github.com/your-username/chat-gipitty.git
cd chat-gipitty
git remote add upstream https://github.com/divanvisagie/chat-gipitty.git
</code></pre>
<h3 id="2-create-a-branch"><a class="header" href="#2-create-a-branch">2. Create a Branch</a></h3>
<p>Create a new branch for your work:</p>
<pre><code class="language-bash">git checkout -b feature/your-feature-name
# or
git checkout -b fix/issue-number
</code></pre>
<h3 id="3-make-changes"><a class="header" href="#3-make-changes">3. Make Changes</a></h3>
<ul>
<li>Write clear, well-documented code</li>
<li>Follow existing code style and conventions</li>
<li>Add tests for new functionality</li>
<li>Update documentation as needed</li>
</ul>
<h3 id="4-test-your-changes"><a class="header" href="#4-test-your-changes">4. Test Your Changes</a></h3>
<pre><code class="language-bash"># Run the full test suite
cargo test

# Test your changes manually
cargo run -- "test query"

# Check formatting
cargo fmt --check

# Run clippy for linting
cargo clippy
</code></pre>
<h3 id="5-commit-and-push"><a class="header" href="#5-commit-and-push">5. Commit and Push</a></h3>
<pre><code class="language-bash"># Stage your changes
git add .

# Commit with a clear message
git commit -m "Add feature: description of your changes"

# Push to your fork
git push origin feature/your-feature-name
</code></pre>
<h3 id="6-submit-a-pull-request"><a class="header" href="#6-submit-a-pull-request">6. Submit a Pull Request</a></h3>
<ol>
<li>Go to the GitHub repository</li>
<li>Click "New Pull Request"</li>
<li>Select your branch</li>
<li>Fill out the pull request template</li>
<li>Submit for review</li>
</ol>
<h2 id="code-style-and-standards"><a class="header" href="#code-style-and-standards">Code Style and Standards</a></h2>
<h3 id="rust-code-style"><a class="header" href="#rust-code-style">Rust Code Style</a></h3>
<ul>
<li>Follow standard Rust formatting (<code>cargo fmt</code>)</li>
<li>Use <code>cargo clippy</code> to catch common issues</li>
<li>Write clear, descriptive variable and function names</li>
<li>Add documentation comments for public APIs</li>
</ul>
<h3 id="commit-messages"><a class="header" href="#commit-messages">Commit Messages</a></h3>
<p>Use clear, descriptive commit messages:</p>
<pre><code>Add feature: web search integration

- Implement /search command prefix
- Add automatic model switching for GPT models
- Update documentation with search examples
</code></pre>
<h3 id="documentation-1"><a class="header" href="#documentation-1">Documentation</a></h3>
<ul>
<li>Update relevant documentation for new features</li>
<li>Add examples for new functionality</li>
<li>Keep the README up to date</li>
<li>Add or update man page content if needed</li>
</ul>
<h2 id="testing"><a class="header" href="#testing">Testing</a></h2>
<h3 id="running-tests"><a class="header" href="#running-tests">Running Tests</a></h3>
<pre><code class="language-bash"># Run all tests
cargo test

# Run specific test
cargo test test_name

# Run with verbose output
cargo test -- --nocapture
</code></pre>
<h3 id="adding-tests"><a class="header" href="#adding-tests">Adding Tests</a></h3>
<ul>
<li>Add unit tests for new functions</li>
<li>Add integration tests for new features</li>
<li>Test error conditions and edge cases</li>
<li>Ensure tests are deterministic and isolated</li>
</ul>
<h3 id="manual-testing"><a class="header" href="#manual-testing">Manual Testing</a></h3>
<p>Test your changes with real scenarios:</p>
<pre><code class="language-bash"># Test basic functionality
cargo run -- "test query"

# Test with files
cargo run -- -f test_file.txt "analyze this"

# Test subcommands
cargo run -- image --help
cargo run -- tts "test speech"
</code></pre>
<h2 id="release-process"><a class="header" href="#release-process">Release Process</a></h2>
<p>The project uses Git tags and GitHub Actions for releases. Here's how releases are prepared:</p>
<h3 id="1-update-version-numbers"><a class="header" href="#1-update-version-numbers">1. Update Version Numbers</a></h3>
<ul>
<li>Edit <code>Cargo.toml</code> and set the new <code>version</code></li>
<li>Update the version in <code>docs/cgip.1</code> and <code>scripts/build_deb.sh</code></li>
<li>Run <code>cargo build --release</code> to update <code>Cargo.lock</code></li>
</ul>
<h3 id="2-write-release-notes"><a class="header" href="#2-write-release-notes">2. Write Release Notes</a></h3>
<ul>
<li>Add a markdown file under <code>notes/</code> named after the version (e.g., <code>notes/0.5.0.md</code>)</li>
<li>Summarize new features, fixes, and maintenance items</li>
<li>Include any breaking changes or migration notes</li>
</ul>
<h3 id="3-commit-changes"><a class="header" href="#3-commit-changes">3. Commit Changes</a></h3>
<pre><code class="language-bash">git add .
git commit -m "Bump version to 0.5.0"
</code></pre>
<h3 id="4-tag-the-release"><a class="header" href="#4-tag-the-release">4. Tag the Release</a></h3>
<pre><code class="language-bash"># Verify the tag first
make tag-release-dry

# Create and push the tag (triggers GitHub Actions)
make tag-release
</code></pre>
<h3 id="5-publish-packages-optional"><a class="header" href="#5-publish-packages-optional">5. Publish Packages (Optional)</a></h3>
<pre><code class="language-bash"># Build and upload artifacts to GitHub release
make tarball-publish
# or
make deb-publish
</code></pre>
<p>This process ensures version consistency and triggers automated release builds.</p>
<h2 id="project-structure"><a class="header" href="#project-structure">Project Structure</a></h2>
<pre><code>chat-gipitty/
‚îú‚îÄ‚îÄ src/                 # Source code
‚îÇ   ‚îú‚îÄ‚îÄ main.rs         # Entry point
‚îÇ   ‚îú‚îÄ‚îÄ args.rs         # Command line argument parsing
‚îÇ   ‚îú‚îÄ‚îÄ chat.rs         # Main chat functionality
‚îÇ   ‚îú‚îÄ‚îÄ config_manager.rs # Configuration management
‚îÇ   ‚îú‚îÄ‚îÄ printer.rs      # Output formatting
‚îÇ   ‚îú‚îÄ‚îÄ utils.rs        # Utility functions
‚îÇ   ‚îú‚îÄ‚îÄ chatgpt/        # ChatGPT API client
‚îÇ   ‚îî‚îÄ‚îÄ sub/            # Subcommand implementations
‚îú‚îÄ‚îÄ docs/               # Documentation
‚îú‚îÄ‚îÄ book/               # mdBook documentation
‚îú‚îÄ‚îÄ scripts/            # Build and release scripts
‚îú‚îÄ‚îÄ notes/              # Release notes
‚îú‚îÄ‚îÄ test_data/          # Test files
‚îú‚îÄ‚îÄ Cargo.toml          # Rust project configuration
‚îú‚îÄ‚îÄ Cargo.lock          # Dependency lock file
‚îî‚îÄ‚îÄ Makefile           # Build automation
</code></pre>
<h2 id="code-organization"><a class="header" href="#code-organization">Code Organization</a></h2>
<h3 id="main-components"><a class="header" href="#main-components">Main Components</a></h3>
<ul>
<li><strong><code>main.rs</code></strong>: Entry point and argument parsing</li>
<li><strong><code>chat.rs</code></strong>: Core chat functionality and context management</li>
<li><strong><code>config_manager.rs</code></strong>: Configuration file handling</li>
<li><strong><code>chatgpt/</code></strong>: OpenAI API client implementation</li>
<li><strong><code>sub/</code></strong>: Individual subcommand implementations</li>
</ul>
<h3 id="adding-new-features"><a class="header" href="#adding-new-features">Adding New Features</a></h3>
<h4 id="new-command-line-options"><a class="header" href="#new-command-line-options">New Command Line Options</a></h4>
<ol>
<li>Add to <code>args.rs</code> in the appropriate struct</li>
<li>Handle the option in <code>main.rs</code></li>
<li>Update help text and documentation</li>
</ol>
<h4 id="new-subcommands"><a class="header" href="#new-subcommands">New Subcommands</a></h4>
<ol>
<li>Create a new file in <code>src/sub/</code></li>
<li>Implement the subcommand logic</li>
<li>Add to <code>src/sub/mod.rs</code></li>
<li>Update argument parsing in <code>args.rs</code></li>
<li>Add documentation in <code>book/src/</code></li>
</ol>
<h4 id="new-api-endpoints"><a class="header" href="#new-api-endpoints">New API Endpoints</a></h4>
<ol>
<li>Add to the <code>chatgpt/</code> module</li>
<li>Update request/response structs</li>
<li>Add error handling</li>
<li>Update tests</li>
</ol>
<h2 id="common-issues-and-solutions-1"><a class="header" href="#common-issues-and-solutions-1">Common Issues and Solutions</a></h2>
<h3 id="build-issues"><a class="header" href="#build-issues">Build Issues</a></h3>
<pre><code class="language-bash"># Clean build artifacts
cargo clean

# Update dependencies
cargo update

# Check for compilation errors
cargo check
</code></pre>
<h3 id="test-failures"><a class="header" href="#test-failures">Test Failures</a></h3>
<ul>
<li>Ensure tests don't depend on external services</li>
<li>Check for race conditions in concurrent tests</li>
<li>Verify test data files exist and are correct</li>
</ul>
<h3 id="documentation-issues"><a class="header" href="#documentation-issues">Documentation Issues</a></h3>
<ul>
<li>Run <code>mdbook build</code> to test documentation locally</li>
<li>Check internal links are working</li>
<li>Ensure code examples are correct</li>
</ul>
<h2 id="community-guidelines"><a class="header" href="#community-guidelines">Community Guidelines</a></h2>
<h3 id="code-of-conduct"><a class="header" href="#code-of-conduct">Code of Conduct</a></h3>
<ul>
<li>Be respectful and inclusive</li>
<li>Welcome newcomers and help them learn</li>
<li>Focus on constructive feedback</li>
<li>Maintain professionalism in all interactions</li>
</ul>
<h3 id="communication"><a class="header" href="#communication">Communication</a></h3>
<ul>
<li>Use GitHub issues for bug reports and feature requests</li>
<li>Join discussions in pull requests</li>
<li>Ask questions if anything is unclear</li>
<li>Provide context and examples when reporting issues</li>
</ul>
<h2 id="recognition"><a class="header" href="#recognition">Recognition</a></h2>
<p>Contributors are recognized in:</p>
<ul>
<li>Git commit history</li>
<li>GitHub contributors list</li>
<li>Release notes for significant contributions</li>
<li>Project documentation</li>
</ul>
<h2 id="getting-help-1"><a class="header" href="#getting-help-1">Getting Help</a></h2>
<p>If you need help contributing:</p>
<ul>
<li>Check existing issues and pull requests</li>
<li>Ask questions in GitHub discussions</li>
<li>Review the documentation</li>
<li>Look at recent commits for examples</li>
</ul>
<p>Thank you for contributing to Chat Gipitty! Every contribution, no matter how small, helps make the project better for everyone.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reference"><a class="header" href="#reference">Reference</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-line-options-1"><a class="header" href="#command-line-options-1">Command Line Options</a></h1>
<p>Chat Gipitty provides a comprehensive set of command-line options to customize its behavior. This page documents all available options and their usage.</p>
<h2 id="basic-syntax"><a class="header" href="#basic-syntax">Basic Syntax</a></h2>
<pre><code class="language-bash">cgip [OPTIONS] [QUERY] [COMMAND]
</code></pre>
<h2 id="global-options"><a class="header" href="#global-options">Global Options</a></h2>
<h3 id="input-options"><a class="header" href="#input-options">Input Options</a></h3>
<h4 id="-f---file-file"><a class="header" href="#-f---file-file"><code>-f, --file &lt;FILE&gt;</code></a></h4>
<p>Read query from a file. If a query is present, the file content is added to the prompt after the query. If this option is present, stdin is ignored.</p>
<pre><code class="language-bash"># Read from file only
cgip -f input.txt

# Combine query with file content
cgip "analyze this code" -f script.py

# Multiple files can be specified
cgip -f file1.txt -f file2.txt "compare these files"
</code></pre>
<h4 id="-s---system-prompt-system_prompt"><a class="header" href="#-s---system-prompt-system_prompt"><code>-s, --system-prompt &lt;SYSTEM_PROMPT&gt;</code></a></h4>
<p>Specify a custom system prompt to influence the model's behavior.</p>
<pre><code class="language-bash"># Custom system prompt
cgip -s "You are a helpful code reviewer" "check this function" -f code.py

# Behavioral modification
cgip -s "Respond only in bullet points" "summarize this article" -f article.txt
</code></pre>
<h3 id="model-options-1"><a class="header" href="#model-options-1">Model Options</a></h3>
<h4 id="-m---model-model"><a class="header" href="#-m---model-model"><code>-M, --model &lt;MODEL&gt;</code></a></h4>
<p>Specify which model to use. Defaults to <code>gpt-4</code>.</p>
<pre><code class="language-bash"># Use GPT-3.5 Turbo
cgip -M gpt-3.5-turbo "simple question"

# Use GPT-4 Turbo
cgip -M gpt-4-turbo "complex analysis task"

# Use local model via Ollama
cgip -M llama2 "local processing"
</code></pre>
<h4 id="-l---list-models"><a class="header" href="#-l---list-models"><code>-l, --list-models</code></a></h4>
<p>List all available models for your configured API endpoint.</p>
<pre><code class="language-bash">cgip -l
</code></pre>
<h3 id="output-options"><a class="header" href="#output-options">Output Options</a></h3>
<h4 id="-p---show-progress"><a class="header" href="#-p---show-progress"><code>-p, --show-progress</code></a></h4>
<p>Show progress indicator during processing. Note that this might interfere with stdout redirection.</p>
<pre><code class="language-bash">cgip -p "long processing task"
</code></pre>
<h4 id="-c---show-context"><a class="header" href="#-c---show-context"><code>-c, --show-context</code></a></h4>
<p>Output the full context used in the query, including chat context with all assistant and user messages.</p>
<pre><code class="language-bash"># See what context is being sent
ls | cgip -c "analyze these files"
</code></pre>
<h4 id="-m---markdown"><a class="header" href="#-m---markdown"><code>-m, --markdown</code></a></h4>
<p>Show context in a human-readable table format.</p>
<pre><code class="language-bash"># Formatted context display
cgip -m "format this nicely" -f data.txt
</code></pre>
<h3 id="session-options"><a class="header" href="#session-options">Session Options</a></h3>
<h4 id="-n---no-session"><a class="header" href="#-n---no-session"><code>-n, --no-session</code></a></h4>
<p>Don't use messages from the session in this request. Useful for one-off queries or when you want to avoid session context.</p>
<pre><code class="language-bash"># Isolated query without session history
cgip -n "independent question"

# Useful for sensitive queries
sensitive_command | cgip -n "analyze this privately"
</code></pre>
<h3 id="special-options"><a class="header" href="#special-options">Special Options</a></h3>
<h4 id="-j---jarjar"><a class="header" href="#-j---jarjar"><code>-j, --jarjar</code></a></h4>
<p>Speak like Jar Jar Binks. A fun easter egg option.</p>
<pre><code class="language-bash">cgip -j "explain quantum computing"
</code></pre>
<h3 id="help-and-version"><a class="header" href="#help-and-version">Help and Version</a></h3>
<h4 id="-h---help"><a class="header" href="#-h---help"><code>-h, --help</code></a></h4>
<p>Print help information. Use with subcommands to get specific help.</p>
<pre><code class="language-bash"># General help
cgip -h

# Subcommand help
cgip image -h
cgip tts -h
</code></pre>
<h4 id="-v---version"><a class="header" href="#-v---version"><code>-V, --version</code></a></h4>
<p>Print version information.</p>
<pre><code class="language-bash">cgip -V
</code></pre>
<h2 id="option-combinations"><a class="header" href="#option-combinations">Option Combinations</a></h2>
<h3 id="common-combinations"><a class="header" href="#common-combinations">Common Combinations</a></h3>
<pre><code class="language-bash"># Analyze code with custom model and system prompt
cgip -M gpt-4-turbo -s "You are a senior developer" "review this code" -f app.py

# Debug with context visibility
cargo build 2&gt;&amp;1 | cgip -c -m "explain this error"

# One-off analysis without session
cgip -n -f sensitive_data.txt "analyze this privately"

# Progress tracking for long tasks
cgip -p -M gpt-4-turbo "complex analysis task" -f large_dataset.csv
</code></pre>
<h3 id="file-input-combinations"><a class="header" href="#file-input-combinations">File Input Combinations</a></h3>
<pre><code class="language-bash"># Multiple files with custom prompt
cgip -f config.yaml -f docker-compose.yml "check these configurations for compatibility"

# File input with model selection
cgip -M gpt-3.5-turbo -f simple_script.py "explain this code"

# File input with system prompt
cgip -s "You are a security expert" -f app.py "find security vulnerabilities"
</code></pre>
<h2 id="order-of-operations"><a class="header" href="#order-of-operations">Order of Operations</a></h2>
<p>Chat Gipitty processes input in this order:</p>
<ol>
<li><strong>stdin</strong> (if present and no <code>-f</code> flag)</li>
<li><strong>File content</strong> (from <code>-f</code> flags, in order specified)</li>
<li><strong>Query argument</strong> (the main text argument)</li>
<li><strong>System prompt</strong> (applied as system message)</li>
</ol>
<h2 id="environment-integration"><a class="header" href="#environment-integration">Environment Integration</a></h2>
<p>Options can be combined with environment variables:</p>
<pre><code class="language-bash"># Use custom API endpoint with specific model
export OPENAI_BASE_URL="http://localhost:11434/v1"
cgip -M llama2 "local query"

# Session management with options
export CGIP_SESSION_NAME="project-review"
cgip -c "continue our discussion"
</code></pre>
<h2 id="error-handling-5"><a class="header" href="#error-handling-5">Error Handling</a></h2>
<h3 id="invalid-options"><a class="header" href="#invalid-options">Invalid Options</a></h3>
<pre><code class="language-bash"># Invalid model
cgip -M invalid-model "test"
# Error: Model not available

# Invalid file
cgip -f nonexistent.txt "test"
# Error: File not found
</code></pre>
<h3 id="option-conflicts"><a class="header" href="#option-conflicts">Option Conflicts</a></h3>
<pre><code class="language-bash"># Conflicting input sources
echo "stdin input" | cgip -f file.txt "query"
# stdin is ignored when -f is used
</code></pre>
<h2 id="advanced-usage-4"><a class="header" href="#advanced-usage-4">Advanced Usage</a></h2>
<h3 id="debugging-options"><a class="header" href="#debugging-options">Debugging Options</a></h3>
<pre><code class="language-bash"># See exactly what's being sent to the API
cgip -c -m "debug query" -f input.txt

# Track progress on long operations
cgip -p -M gpt-4-turbo "complex task" -f large_file.txt
</code></pre>
<h3 id="scripting-with-options"><a class="header" href="#scripting-with-options">Scripting with Options</a></h3>
<pre><code class="language-bash">#!/bin/bash
# Script example using multiple options

MODEL="gpt-4-turbo"
SYSTEM_PROMPT="You are a helpful assistant that responds concisely"

cgip -M "$MODEL" -s "$SYSTEM_PROMPT" -f "$1" "analyze this file"
</code></pre>
<h3 id="pipeline-integration"><a class="header" href="#pipeline-integration">Pipeline Integration</a></h3>
<pre><code class="language-bash"># Complex pipeline with options
git log --oneline -10 | cgip -n -M gpt-3.5-turbo "summarize recent changes"

# Chained operations
cgip -f code.py "find issues" | cgip -n "prioritize these issues"
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="supported-models"><a class="header" href="#supported-models">Supported Models</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api-compatibility"><a class="header" href="#api-compatibility">API Compatibility</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
